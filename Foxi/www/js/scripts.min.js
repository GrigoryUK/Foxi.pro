function woof_ajax_done_handler(e){var t=$(window).width();$('.woof_products_top_panel a[href="rating"] span').text("По рейтингу"),$('.woof_products_top_panel a[href="date"] span').text("По новизне"),$('.woof_products_top_panel a[href="price"] span').text("Сначала дешевые"),$('.woof_products_top_panel a[href="price-desc"] span').text("Сначала дорогие"),$('.woof_products_top_panel a[data-tax="product_cat"]').parent().remove(),$(".woof_products_top_panel li").css("display","inline-block");var i=$(".subcat_container .products .catalog_item");if(i.prependTo(".subcat_container .products").removeClass("item1 item2 item3 item4"),$(".products_row").remove(),t<750)var n=2;if(750<t&&t<1100)n=3;if(1100<t)n=4;for(var o=0;o<i.length;o+=n)i.slice(o,o+n).wrapAll("<div class='products_row'></div>");$(".products_row").each(function(e){var t=e+1;$(this).addClass("products_row"+t),$(this).find(".catalog_item").each(function(e){var t=e+1;$(this).addClass("item"+t)})}),$(".products_row").append('<div class="spacer"></div>'),i.css("opacity","1"),$(".content_main .preloader").css("display","none"),$("select").each(function(){var e=$(this).find('option[value="0"]'),t=e.text().replace("Товар ","");e.text(""+t)});var s=$(".subcat_container");if(s.is(".telephones"))var a=$('.woof_products_top_panel a[data-tax="pa_smartphone_model"] span').text();if(s.is(".tablets"))a=$('.woof_products_top_panel a[data-tax="pa_tablet_model"] span').text();if(s.is(".notebooks"))a=$('.woof_products_top_panel a[data-tax="pa_notebook_model"] span').text();$(".breadcrumbs_container u, .title_container .page_title u").text(""+a),$(".subcat_container .chosen-results, .woof_products_top_panel a").click(function(){$(".preloader").css("display","block"),$(".subcat_container .content_main .products, .woof_products_top_panel").css("opacity","0")}),$(".woof_price3_search_container").css("opacity","1")}!function(U){var X={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0},onAutoChange:function(){return!0}};U.fn.bxSlider=function(t){if(0===this.length)return this;if(1<this.length)return this.each(function(){U(this).bxSlider(t)}),this;var d={},u=this,n=U(window).width(),o=U(window).height();if(!U(u).data("bxSlider")){function s(){U(u).data("bxSlider")||(d.settings=U.extend({},X,t),d.settings.slideWidth=parseInt(d.settings.slideWidth),d.children=u.children(d.settings.slideSelector),d.children.length<d.settings.minSlides&&(d.settings.minSlides=d.children.length),d.children.length<d.settings.maxSlides&&(d.settings.maxSlides=d.children.length),d.settings.randomStart&&(d.settings.startSlide=Math.floor(Math.random()*d.children.length)),d.active={index:d.settings.startSlide},d.carousel=1<d.settings.minSlides||1<d.settings.maxSlides,d.carousel&&(d.settings.preloadImages="all"),d.minThreshold=d.settings.minSlides*d.settings.slideWidth+(d.settings.minSlides-1)*d.settings.slideMargin,d.maxThreshold=d.settings.maxSlides*d.settings.slideWidth+(d.settings.maxSlides-1)*d.settings.slideMargin,d.working=!1,d.controls={},d.interval=null,d.animProp="vertical"===d.settings.mode?"top":"left",d.usingCSS=d.settings.useCSS&&"fade"!==d.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<t.length;i++)if(void 0!==e.style[t[i]])return d.cssPrefix=t[i].replace("Perspective","").toLowerCase(),d.animProp="-"+d.cssPrefix+"-transform",!0;return!1}(),"vertical"===d.settings.mode&&(d.settings.maxSlides=d.settings.minSlides),u.data("origStyle",u.attr("style")),u.children(d.settings.slideSelector).each(function(){U(this).data("origStyle",U(this).attr("style"))}),c())}function a(){var e=1,t=null;return"horizontal"===d.settings.mode&&0<d.settings.slideWidth?e=d.viewport.width()<d.minThreshold?d.settings.minSlides:d.viewport.width()>d.maxThreshold?d.settings.maxSlides:(t=d.children.first().width()+d.settings.slideMargin,Math.floor((d.viewport.width()+d.settings.slideMargin)/t)||1):"vertical"===d.settings.mode&&(e=d.settings.minSlides),e}function e(){for(var e="",t="",i=_(),n=0;n<i;n++)t="",d.settings.buildPager&&U.isFunction(d.settings.buildPager)||d.settings.pagerCustom?(t=d.settings.buildPager(n),d.pagerEl.addClass("bx-custom-pager")):(t=n+1,d.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+t+"</a></div>";d.pagerEl.html(e)}function r(){u.startAuto()}function l(){u.stopAuto()}function p(e){var t=a();d.settings.ariaHidden&&!d.settings.ticker&&(d.children.attr("aria-hidden","true"),d.children.slice(e,e+t).attr("aria-hidden","false"))}var c=function(){var e=d.children.eq(d.settings.startSlide);u.wrap('<div class="'+d.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),d.viewport=u.parent(),d.settings.ariaLive&&!d.settings.ticker&&d.viewport.attr("aria-live","polite"),d.loader=U('<div class="bx-loading" />'),d.viewport.prepend(d.loader),u.css({width:"horizontal"===d.settings.mode?1e3*d.children.length+215+"%":"auto",position:"relative"}),d.usingCSS&&d.settings.easing?u.css("-"+d.cssPrefix+"-transition-timing-function",d.settings.easing):d.settings.easing||(d.settings.easing="swing"),d.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),d.viewport.parent().css({maxWidth:m()}),d.children.css({float:"horizontal"===d.settings.mode?"left":"none",listStyle:"none",position:"relative"}),d.children.css("width",v()),"horizontal"===d.settings.mode&&0<d.settings.slideMargin&&d.children.css("marginRight",d.settings.slideMargin),"vertical"===d.settings.mode&&0<d.settings.slideMargin&&d.children.css("marginBottom",d.settings.slideMargin),"fade"===d.settings.mode&&(d.children.css({position:"absolute",zIndex:0,display:"none"}),d.children.eq(d.settings.startSlide).css({zIndex:d.settings.slideZIndex,display:"block"})),d.controls.el=U('<div class="bx-controls" />'),d.settings.captions&&k(),d.active.last=d.settings.startSlide===_()-1,d.settings.video&&u.fitVids(),"all"!==d.settings.preloadImages&&!d.settings.ticker||(e=d.children),d.settings.ticker?d.settings.pager=!1:(d.settings.controls&&S(),d.settings.auto&&d.settings.autoControls&&C(),d.settings.pager&&x(),(d.settings.controls||d.settings.autoControls||d.settings.pager)&&d.viewport.after(d.controls.el)),h(e,f)},h=function(e,t){var i=e.find('img:not([src=""]), iframe').length,n=0;0!==i?e.find('img:not([src=""]), iframe').each(function(){U(this).one("load error",function(){++n===i&&t()}).each(function(){!this.complete&&""!=this.src||U(this).trigger("load")})}):t()},f=function(){if(d.settings.infiniteLoop&&"fade"!==d.settings.mode&&!d.settings.ticker){var e="vertical"===d.settings.mode?d.settings.minSlides:d.settings.maxSlides,t=d.children.slice(0,e).clone(!0).addClass("bx-clone"),i=d.children.slice(-e).clone(!0).addClass("bx-clone");d.settings.ariaHidden&&(t.attr("aria-hidden",!0),i.attr("aria-hidden",!0)),u.append(t).prepend(i)}d.loader.remove(),w(),"vertical"===d.settings.mode&&(d.settings.adaptiveHeight=!0),d.viewport.height(g()),u.redrawSlider(),d.settings.onSliderLoad.call(u,d.active.index),d.initialized=!0,d.settings.responsive&&U(window).bind("resize",N),d.settings.auto&&d.settings.autoStart&&(1<_()||d.settings.autoSlideForOnePage)&&z(),d.settings.ticker&&A(),d.settings.pager&&$(d.settings.startSlide),d.settings.controls&&P(),d.settings.touchEnabled&&!d.settings.ticker&&L(),d.settings.keyboardEnabled&&!d.settings.ticker&&U(document).keydown(q)},g=function(){var t=0,e=U();if("vertical"===d.settings.mode||d.settings.adaptiveHeight)if(d.carousel){var n=1===d.settings.moveSlides?d.active.index:d.active.index*y();for(e=d.children.eq(n),i=1;i<=d.settings.maxSlides-1;i++)e=n+i>=d.children.length?e.add(d.children.eq(i-1)):e.add(d.children.eq(n+i))}else e=d.children.eq(d.active.index);else e=d.children;return"vertical"===d.settings.mode?(e.each(function(e){t+=U(this).outerHeight()}),0<d.settings.slideMargin&&(t+=d.settings.slideMargin*(d.settings.minSlides-1))):t=Math.max.apply(Math,e.map(function(){return U(this).outerHeight(!1)}).get()),"border-box"===d.viewport.css("box-sizing")?t+=parseFloat(d.viewport.css("padding-top"))+parseFloat(d.viewport.css("padding-bottom"))+parseFloat(d.viewport.css("border-top-width"))+parseFloat(d.viewport.css("border-bottom-width")):"padding-box"===d.viewport.css("box-sizing")&&(t+=parseFloat(d.viewport.css("padding-top"))+parseFloat(d.viewport.css("padding-bottom"))),t},m=function(){var e="100%";return 0<d.settings.slideWidth&&(e="horizontal"===d.settings.mode?d.settings.maxSlides*d.settings.slideWidth+(d.settings.maxSlides-1)*d.settings.slideMargin:d.settings.slideWidth),e},v=function(){var e=d.settings.slideWidth,t=d.viewport.width();if(0===d.settings.slideWidth||d.settings.slideWidth>t&&!d.carousel||"vertical"===d.settings.mode)e=t;else if(1<d.settings.maxSlides&&"horizontal"===d.settings.mode){if(t>d.maxThreshold)return e;t<d.minThreshold?e=(t-d.settings.slideMargin*(d.settings.minSlides-1))/d.settings.minSlides:d.settings.shrinkItems&&(e=Math.floor((t+d.settings.slideMargin)/Math.ceil((t+d.settings.slideMargin)/(e+d.settings.slideMargin))-d.settings.slideMargin))}return e},_=function(){var e=0,t=0,i=0;if(0<d.settings.moveSlides){if(!d.settings.infiniteLoop){for(;t<d.children.length;)++e,t=i+a(),i+=d.settings.moveSlides<=a()?d.settings.moveSlides:a();return i}e=Math.ceil(d.children.length/y())}else e=Math.ceil(d.children.length/a());return e},y=function(){return 0<d.settings.moveSlides&&d.settings.moveSlides<=a()?d.settings.moveSlides:a()},w=function(){var e,t,i;d.children.length>d.settings.maxSlides&&d.active.last&&!d.settings.infiniteLoop?"horizontal"===d.settings.mode?(e=(t=d.children.last()).position(),b(-(e.left-(d.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===d.settings.mode&&(i=d.children.length-d.settings.minSlides,e=d.children.eq(i).position(),b(-e.top,"reset",0)):(e=d.children.eq(d.active.index*y()).position(),d.active.index===_()-1&&(d.active.last=!0),void 0!==e&&("horizontal"===d.settings.mode?b(-e.left,"reset",0):"vertical"===d.settings.mode&&b(-e.top,"reset",0)))},b=function(e,t,i,n){var o,s;d.usingCSS?(s="vertical"===d.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",u.css("-"+d.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"===t?(u.css(d.animProp,s),0!==i?u.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){U(e.target).is(u)&&(u.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),E())}):E()):"reset"===t?u.css(d.animProp,s):"ticker"===t&&(u.css("-"+d.cssPrefix+"-transition-timing-function","linear"),u.css(d.animProp,s),0!==i?u.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){U(e.target).is(u)&&(u.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),b(n.resetValue,"reset",0),H())}):(b(n.resetValue,"reset",0),H()))):((o={})[d.animProp]=e,"slide"===t?u.animate(o,i,d.settings.easing,function(){E()}):"reset"===t?u.css(d.animProp,e):"ticker"===t&&u.animate(o,i,"linear",function(){b(n.resetValue,"reset",0),H()}))},x=function(){d.settings.pagerCustom?d.pagerEl=U(d.settings.pagerCustom):(d.pagerEl=U('<div class="bx-pager" />'),d.settings.pagerSelector?U(d.settings.pagerSelector).html(d.pagerEl):d.controls.el.addClass("bx-has-pager").append(d.pagerEl),e()),d.pagerEl.on("click touchend","a",D)},S=function(){d.controls.next=U('<a class="bx-next" href="">'+d.settings.nextText+"</a>"),d.controls.prev=U('<a class="bx-prev" href="">'+d.settings.prevText+"</a>"),d.controls.next.bind("click touchend",O),d.controls.prev.bind("click touchend",T),d.settings.nextSelector&&U(d.settings.nextSelector).append(d.controls.next),d.settings.prevSelector&&U(d.settings.prevSelector).append(d.controls.prev),d.settings.nextSelector||d.settings.prevSelector||(d.controls.directionEl=U('<div class="bx-controls-direction" />'),d.controls.directionEl.append(d.controls.prev).append(d.controls.next),d.controls.el.addClass("bx-has-controls-direction").append(d.controls.directionEl))},C=function(){d.controls.start=U('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+d.settings.startText+"</a></div>"),d.controls.stop=U('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+d.settings.stopText+"</a></div>"),d.controls.autoEl=U('<div class="bx-controls-auto" />'),d.controls.autoEl.on("click",".bx-start",I),d.controls.autoEl.on("click",".bx-stop",M),d.settings.autoControlsCombine?d.controls.autoEl.append(d.controls.start):d.controls.autoEl.append(d.controls.start).append(d.controls.stop),d.settings.autoControlsSelector?U(d.settings.autoControlsSelector).html(d.controls.autoEl):d.controls.el.addClass("bx-has-controls-auto").append(d.controls.autoEl),B(d.settings.autoStart?"stop":"start")},k=function(){d.children.each(function(e){var t=U(this).find("img:first").attr("title");void 0!==t&&(""+t).length&&U(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},O=function(e){e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&u.stopAuto(),u.goToNextSlide())},T=function(e){e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&u.stopAuto(),u.goToPrevSlide())},I=function(e){u.startAuto(),e.preventDefault()},M=function(e){u.stopAuto(),e.preventDefault()},D=function(e){var t,i;e.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&u.stopAuto(),void 0!==(t=U(e.currentTarget)).attr("data-slide-index")&&(i=parseInt(t.attr("data-slide-index")))!==d.active.index&&u.goToSlide(i))},$=function(i){var e=d.children.length;if("short"===d.settings.pagerType)return 1<d.settings.maxSlides&&(e=Math.ceil(d.children.length/d.settings.maxSlides)),void d.pagerEl.html(i+1+d.settings.pagerShortSeparator+e);d.pagerEl.find("a").removeClass("active"),d.pagerEl.each(function(e,t){U(t).find("a").eq(i).addClass("active")})},E=function(){if(d.settings.infiniteLoop){var e="";0===d.active.index?e=d.children.eq(0).position():d.active.index===_()-1&&d.carousel?e=d.children.eq((_()-1)*y()).position():d.active.index===d.children.length-1&&(e=d.children.eq(d.children.length-1).position()),e&&("horizontal"===d.settings.mode?b(-e.left,"reset",0):"vertical"===d.settings.mode&&b(-e.top,"reset",0))}d.working=!1,d.settings.onSlideAfter.call(u,d.children.eq(d.active.index),d.oldIndex,d.active.index)},B=function(e){d.settings.autoControlsCombine?d.controls.autoEl.html(d.controls[e]):(d.controls.autoEl.find("a").removeClass("active"),d.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},P=function(){1===_()?(d.controls.prev.addClass("disabled"),d.controls.next.addClass("disabled")):!d.settings.infiniteLoop&&d.settings.hideControlOnEnd&&(0===d.active.index?(d.controls.prev.addClass("disabled"),d.controls.next.removeClass("disabled")):d.active.index===_()-1?(d.controls.next.addClass("disabled"),d.controls.prev.removeClass("disabled")):(d.controls.prev.removeClass("disabled"),d.controls.next.removeClass("disabled")))},z=function(){0<d.settings.autoDelay?setTimeout(u.startAuto,d.settings.autoDelay):(u.startAuto(),U(window).focus(r).blur(l)),d.settings.autoHover&&u.hover(function(){d.interval&&(u.stopAuto(!0),d.autoPaused=!0)},function(){d.autoPaused&&(u.startAuto(!0),d.autoPaused=null)})},A=function(){var e,t,i,n,o,s,a,r,l=0;"next"===d.settings.autoDirection?u.append(d.children.clone().addClass("bx-clone")):(u.prepend(d.children.clone().addClass("bx-clone")),e=d.children.first().position(),l="horizontal"===d.settings.mode?-e.left:-e.top),b(l,"reset",0),d.settings.pager=!1,d.settings.controls=!1,d.settings.autoControls=!1,d.settings.tickerHover&&(d.usingCSS?(n="horizontal"===d.settings.mode?4:5,d.viewport.hover(function(){t=u.css("-"+d.cssPrefix+"-transform"),i=parseFloat(t.split(",")[n]),b(i,"reset",0)},function(){r=0,d.children.each(function(e){r+="horizontal"===d.settings.mode?U(this).outerWidth(!0):U(this).outerHeight(!0)}),o=d.settings.speed/r,s="horizontal"===d.settings.mode?"left":"top",a=o*(r-Math.abs(parseInt(i))),H(a)})):d.viewport.hover(function(){u.stop()},function(){r=0,d.children.each(function(e){r+="horizontal"===d.settings.mode?U(this).outerWidth(!0):U(this).outerHeight(!0)}),o=d.settings.speed/r,s="horizontal"===d.settings.mode?"left":"top",a=o*(r-Math.abs(parseInt(u.css(s)))),H(a)})),H()},H=function(e){var t,i,n=e||d.settings.speed,o={left:0,top:0},s={left:0,top:0};"next"===d.settings.autoDirection?o=u.find(".bx-clone").first().position():s=d.children.first().position(),t="horizontal"===d.settings.mode?-o.left:-o.top,i="horizontal"===d.settings.mode?-s.left:-s.top,b(t,"ticker",n,{resetValue:i})},q=function(e){var t=document.activeElement.tagName.toLowerCase();if(null==new RegExp(t,["i"]).exec("input|textarea")&&function(e){var t=U(window),i={top:t.scrollTop(),left:t.scrollLeft()},n=e.offset();return i.right=i.left+t.width(),i.bottom=i.top+t.height(),n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)}(u)){if(39===e.keyCode)return O(e),!1;if(37===e.keyCode)return T(e),!1}},L=function(){d.touch={start:{x:0,y:0},end:{x:0,y:0}},d.viewport.bind("touchstart MSPointerDown pointerdown",F),d.viewport.on("click",".bxslider a",function(e){d.viewport.hasClass("click-disabled")&&(e.preventDefault(),d.viewport.removeClass("click-disabled"))})},F=function(e){if(d.controls.el.addClass("disabled"),d.working)e.preventDefault(),d.controls.el.removeClass("disabled");else{d.touch.originalPos=u.position();var t=e.originalEvent,i=void 0!==t.changedTouches?t.changedTouches:[t];d.touch.start.x=i[0].pageX,d.touch.start.y=i[0].pageY,d.viewport.get(0).setPointerCapture&&(d.pointerId=t.pointerId,d.viewport.get(0).setPointerCapture(d.pointerId)),d.viewport.bind("touchmove MSPointerMove pointermove",W),d.viewport.bind("touchend MSPointerUp pointerup",j),d.viewport.bind("MSPointerCancel pointercancel",R)}},R=function(e){b(d.touch.originalPos.left,"reset",0),d.controls.el.removeClass("disabled"),d.viewport.unbind("MSPointerCancel pointercancel",R),d.viewport.unbind("touchmove MSPointerMove pointermove",W),d.viewport.unbind("touchend MSPointerUp pointerup",j),d.viewport.get(0).releasePointerCapture&&d.viewport.get(0).releasePointerCapture(d.pointerId)},W=function(e){var t=e.originalEvent,i=void 0!==t.changedTouches?t.changedTouches:[t],n=Math.abs(i[0].pageX-d.touch.start.x),o=Math.abs(i[0].pageY-d.touch.start.y),s=0,a=0;o<3*n&&d.settings.preventDefaultSwipeX?e.preventDefault():n<3*o&&d.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==d.settings.mode&&d.settings.oneToOneTouch&&(s="horizontal"===d.settings.mode?(a=i[0].pageX-d.touch.start.x,d.touch.originalPos.left+a):(a=i[0].pageY-d.touch.start.y,d.touch.originalPos.top+a),b(s,"reset",0))},j=function(e){d.viewport.unbind("touchmove MSPointerMove pointermove",W),d.controls.el.removeClass("disabled");var t=e.originalEvent,i=void 0!==t.changedTouches?t.changedTouches:[t],n=0,o=0;d.touch.end.x=i[0].pageX,d.touch.end.y=i[0].pageY,"fade"===d.settings.mode?(o=Math.abs(d.touch.start.x-d.touch.end.x))>=d.settings.swipeThreshold&&(d.touch.start.x>d.touch.end.x?u.goToNextSlide():u.goToPrevSlide(),u.stopAuto()):(n="horizontal"===d.settings.mode?(o=d.touch.end.x-d.touch.start.x,d.touch.originalPos.left):(o=d.touch.end.y-d.touch.start.y,d.touch.originalPos.top),!d.settings.infiniteLoop&&(0===d.active.index&&0<o||d.active.last&&o<0)?b(n,"reset",200):Math.abs(o)>=d.settings.swipeThreshold?(o<0?u.goToNextSlide():u.goToPrevSlide(),u.stopAuto()):b(n,"reset",200)),d.viewport.unbind("touchend MSPointerUp pointerup",j),d.viewport.get(0).releasePointerCapture&&d.viewport.get(0).releasePointerCapture(d.pointerId)},N=function(e){if(d.initialized)if(d.working)window.setTimeout(N,10);else{var t=U(window).width(),i=U(window).height();n===t&&o===i||(n=t,o=i,u.redrawSlider(),d.settings.onSliderResize.call(u,d.active.index))}};return u.goToSlide=function(e,t){var i,n,o,s,a=!0,r=0,l={left:0,top:0},c=null;if(d.oldIndex=d.active.index,d.active.index=function(e){return e<0?d.settings.infiniteLoop?_()-1:d.active.index:e>=_()?d.settings.infiniteLoop?0:d.active.index:e}(e),!d.working&&d.active.index!==d.oldIndex){if(d.working=!0,void 0!==(a=d.settings.onSlideBefore.call(u,d.children.eq(d.active.index),d.oldIndex,d.active.index))&&!a)return d.active.index=d.oldIndex,void(d.working=!1);"next"===t?d.settings.onSlideNext.call(u,d.children.eq(d.active.index),d.oldIndex,d.active.index)||(a=!1):"prev"===t&&(d.settings.onSlidePrev.call(u,d.children.eq(d.active.index),d.oldIndex,d.active.index)||(a=!1)),d.active.last=d.active.index>=_()-1,(d.settings.pager||d.settings.pagerCustom)&&$(d.active.index),d.settings.controls&&P(),"fade"===d.settings.mode?(d.settings.adaptiveHeight&&d.viewport.height()!==g()&&d.viewport.animate({height:g()},d.settings.adaptiveHeightSpeed),d.children.filter(":visible").fadeOut(d.settings.speed).css({zIndex:0}),d.children.eq(d.active.index).css("zIndex",d.settings.slideZIndex+1).fadeIn(d.settings.speed,function(){U(this).css("zIndex",d.settings.slideZIndex),E()})):(d.settings.adaptiveHeight&&d.viewport.height()!==g()&&d.viewport.animate({height:g()},d.settings.adaptiveHeightSpeed),!d.settings.infiniteLoop&&d.carousel&&d.active.last?"horizontal"===d.settings.mode?(l=(c=d.children.eq(d.children.length-1)).position(),r=d.viewport.width()-c.outerWidth()):(i=d.children.length-d.settings.minSlides,l=d.children.eq(i).position()):d.carousel&&d.active.last&&"prev"===t?(n=1===d.settings.moveSlides?d.settings.maxSlides-y():(_()-1)*y()-(d.children.length-d.settings.maxSlides),l=(c=u.children(".bx-clone").eq(n)).position()):"next"===t&&0===d.active.index?(l=u.find("> .bx-clone").eq(d.settings.maxSlides).position(),d.active.last=!1):0<=e&&(s=e*parseInt(y()),l=d.children.eq(s).position()),void 0!==l&&(o="horizontal"===d.settings.mode?-(l.left-r):-l.top,b(o,"slide",d.settings.speed)),d.working=!1),d.settings.ariaHidden&&p(d.active.index*y())}},u.goToNextSlide=function(){if((d.settings.infiniteLoop||!d.active.last)&&1!=d.working){var e=parseInt(d.active.index)+1;u.goToSlide(e,"next")}},u.goToPrevSlide=function(){if((d.settings.infiniteLoop||0!==d.active.index)&&1!=d.working){var e=parseInt(d.active.index)-1;u.goToSlide(e,"prev")}},u.startAuto=function(e){d.interval||(d.interval=setInterval(function(){"next"===d.settings.autoDirection?u.goToNextSlide():u.goToPrevSlide()},d.settings.pause),d.settings.onAutoChange.call(u,!0),d.settings.autoControls&&!0!==e&&B("stop"))},u.stopAuto=function(e){d.interval&&(clearInterval(d.interval),d.interval=null,d.settings.onAutoChange.call(u,!1),d.settings.autoControls&&!0!==e&&B("start"))},u.getCurrentSlide=function(){return d.active.index},u.getCurrentSlideElement=function(){return d.children.eq(d.active.index)},u.getSlideElement=function(e){return d.children.eq(e)},u.getSlideCount=function(){return d.children.length},u.isWorking=function(){return d.working},u.redrawSlider=function(){d.children.add(u.find(".bx-clone")).outerWidth(v()),d.viewport.css("height",g()),d.settings.ticker||w(),d.active.last&&(d.active.index=_()-1),d.active.index>=_()&&(d.active.last=!0),d.settings.pager&&!d.settings.pagerCustom&&(e(),$(d.active.index)),d.settings.ariaHidden&&p(d.active.index*y())},u.destroySlider=function(){d.initialized&&(d.initialized=!1,U(".bx-clone",this).remove(),d.children.each(function(){void 0!==U(this).data("origStyle")?U(this).attr("style",U(this).data("origStyle")):U(this).removeAttr("style")}),void 0!==U(this).data("origStyle")?this.attr("style",U(this).data("origStyle")):U(this).removeAttr("style"),U(this).unwrap().unwrap(),d.controls.el&&d.controls.el.remove(),d.controls.next&&d.controls.next.remove(),d.controls.prev&&d.controls.prev.remove(),d.pagerEl&&d.settings.controls&&!d.settings.pagerCustom&&d.pagerEl.remove(),U(".bx-caption",this).remove(),d.controls.autoEl&&d.controls.autoEl.remove(),clearInterval(d.interval),d.settings.responsive&&U(window).unbind("resize",N),d.settings.keyboardEnabled&&U(document).unbind("keydown",q),U(this).removeData("bxSlider"),U(window).off("blur",l).off("focus",r))},u.reloadSlider=function(e){void 0!==e&&(t=e),u.destroySlider(),s(),U(u).data("bxSlider",this)},s(),U(u).data("bxSlider",this),this}}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(a){"use strict";function v(e){return!e.nodeName||-1!==a.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function t(e){return a.isFunction(e)||a.isPlainObject(e)?e:{top:e,left:e}}var _=a.scrollTo=function(e,t,i){return a(window).scrollTo(e,t,i)};return _.defaults={axis:"xy",duration:0,limit:!0},a.fn.scrollTo=function(e,i,g){"object"==typeof i&&(g=i,i=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=a.extend({},_.defaults,g),i=i||g.duration;var m=g.queue&&1<g.axis.length;return m&&(i/=2),g.offset=t(g.offset),g.over=t(g.over),this.each(function(){function r(e){var t=a.extend({},g,{queue:!0,duration:i,complete:e&&function(){e.call(d,p,g)}});u.animate(h,t)}if(null!==e){var l,c=v(this),d=c?this.contentWindow||window:this,u=a(d),p=e,h={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=t(p);break}p=c?a(p):a(p,d);case"object":if(0===p.length)return;(p.is||p.style)&&(l=(p=a(p)).offset())}var f=a.isFunction(g.offset)&&g.offset(d,p)||g.offset;a.each(g.axis.split(""),function(e,t){var i="x"===t?"Left":"Top",n=i.toLowerCase(),o="scroll"+i,s=u[o](),a=_.max(d,t);l?(h[o]=l[n]+(c?0:s-u.offset()[n]),g.margin&&(h[o]-=parseInt(p.css("margin"+i),10)||0,h[o]-=parseInt(p.css("border"+i+"Width"),10)||0),h[o]+=f[n]||0,g.over[n]&&(h[o]+=p["x"===t?"width":"height"]()*g.over[n])):(i=p[n],h[o]=i.slice&&"%"===i.slice(-1)?parseFloat(i)/100*a:i),g.limit&&/^\d+$/.test(h[o])&&(h[o]=h[o]<=0?0:Math.min(h[o],a)),!e&&1<g.axis.length&&(s===h[o]?h={}:m&&(r(g.onAfterFirst),h={}))}),r(g.onAfter)}})},_.max=function(e,t){var i="scroll"+(n="x"===t?"Width":"Height");if(!v(e))return e[i]-a(e)[n.toLowerCase()]();var n="client"+n,o=(s=e.ownerDocument||e.document).documentElement,s=s.body;return Math.max(o[i],s[i])-Math.min(o[n],s[n])},a.Tween.propHooks.scrollLeft=a.Tween.propHooks.scrollTop={get:function(e){return a(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return a(e.elem).stop();var i=Math.round(e.now);t!==i&&(a(e.elem)[e.prop](i),e._last=this.get(e))}},_}),function(){var c,r,l,s,i={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},v=i,d=!1,u=!1,a={x:0,y:0},p=!1,h=document.documentElement,f=[],g=/^Mac/.test(navigator.platform),m={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},_={37:1,38:1,39:1,40:1};function y(){if(!p&&document.body){p=!0;var e=document.body,t=document.documentElement,i=window.innerHeight,n=e.scrollHeight;if(h=0<=document.compatMode.indexOf("CSS")?t:e,c=e,v.keyboardSupport&&z("keydown",C),top!=self)u=!0;else if(G&&i<n&&(e.offsetHeight<=i||t.offsetHeight<=i)){var o,s=document.createElement("div");if(s.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+h.scrollHeight+"px",document.body.appendChild(s),l=function(){o||(o=setTimeout(function(){d||(s.style.height="0",s.style.height=h.scrollHeight+"px",o=null)},500))},setTimeout(l,10),z("resize",l),(r=new W(l)).observe(e,{attributes:!0,childList:!0,characterData:!1}),h.offsetHeight<=i){var a=document.createElement("div");a.style.clear="both",e.appendChild(a)}}v.fixedBackground||d||(e.style.backgroundAttachment="scroll",t.style.backgroundAttachment="scroll")}}var w=[],b=!1,x=Date.now();function S(p,h,f){var e,t;if(e=0<(e=h)?1:-1,t=0<(t=f)?1:-1,a.x===e&&a.y===t||(a.x=e,a.y=t,w=[],x=0),1!=v.accelerationMax){var i=Date.now()-x;if(i<v.accelerationDelta){var n=(1+50/i)/2;1<n&&(n=Math.min(n,v.accelerationMax),h*=n,f*=n)}x=Date.now()}if(w.push({x:h,y:f,lastX:h<0?.99:-.99,lastY:f<0?.99:-.99,start:Date.now()}),!b){var o=j(),g=p===o||p===document.body;null==p.$scrollBehavior&&function(e){var t=k(e);if(null==I[t]){var i=getComputedStyle(e,"")["scroll-behavior"];I[t]="smooth"==i}return I[t]}(p)&&(p.$scrollBehavior=p.style.scrollBehavior,p.style.scrollBehavior="auto");var m=function(e){for(var t=Date.now(),i=0,n=0,o=0;o<w.length;o++){var s=w[o],a=t-s.start,r=a>=v.animationTime,l=r?1:a/v.animationTime;v.pulseAlgorithm&&(l=1<=(u=l)?1:u<=0?0:(1==v.pulseNormalize&&(v.pulseNormalize/=N(1)),N(u)));var c=s.x*l-s.lastX>>0,d=s.y*l-s.lastY>>0;i+=c,n+=d,s.lastX+=c,s.lastY+=d,r&&(w.splice(o,1),o--)}var u;g?window.scrollBy(i,n):(i&&(p.scrollLeft+=i),n&&(p.scrollTop+=n)),h||f||(w=[]),w.length?R(m,p,1e3/v.frameRate+1):(b=!1,null!=p.$scrollBehavior&&(p.style.scrollBehavior=p.$scrollBehavior,p.$scrollBehavior=null))};R(m,p,0),b=!0}}function e(e){p||y();var t=e.target;if(e.defaultPrevented||e.ctrlKey)return!0;if(H(c,"embed")||H(t,"embed")&&/\.pdf/i.test(t.src)||H(c,"object")||t.shadowRoot)return!0;var i=-e.wheelDeltaX||e.deltaX||0,n=-e.wheelDeltaY||e.deltaY||0;g&&(e.wheelDeltaX&&q(e.wheelDeltaX,120)&&(i=e.wheelDeltaX/Math.abs(e.wheelDeltaX)*-120),e.wheelDeltaY&&q(e.wheelDeltaY,120)&&(n=e.wheelDeltaY/Math.abs(e.wheelDeltaY)*-120)),i||n||(n=-e.wheelDelta||0),1===e.deltaMode&&(i*=40,n*=40);var o=$(t);return o?!!function(e){if(e){f.length||(f=[e,e,e]),e=Math.abs(e),f.push(e),f.shift(),clearTimeout(s),s=setTimeout(function(){try{localStorage.SS_deltaBuffer=f.join(",")}catch(e){}},1e3);var t=120<e&&L(e);return!L(120)&&!L(100)&&!t}}(n)||(1.2<Math.abs(i)&&(i*=v.stepSize/120),1.2<Math.abs(n)&&(n*=v.stepSize/120),S(o,i,n),e.preventDefault(),void M()):!u||!Y||(Object.defineProperty(e,"target",{value:window.frameElement}),parent.wheel(e))}function C(i){var e=i.target,t=i.ctrlKey||i.altKey||i.metaKey||i.shiftKey&&i.keyCode!==m.spacebar;document.body.contains(c)||(c=document.activeElement);var n=/^(button|submit|radio|checkbox|file|color|image)$/i;if(i.defaultPrevented||/^(textarea|select|embed|object)$/i.test(e.nodeName)||H(e,"input")&&!n.test(e.type)||H(c,"video")||function(){var e=i.target,t=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(t=e.classList&&e.classList.contains("html5-video-controls"))break}while(e=e.parentNode);return t}()||e.isContentEditable||t)return!0;if((H(e,"button")||H(e,"input")&&n.test(e.type))&&i.keyCode===m.spacebar)return!0;if(H(e,"input")&&"radio"==e.type&&_[i.keyCode])return!0;var o=0,s=0,a=$(c);if(!a)return!u||!Y||parent.keydown(i);var r=a.clientHeight;switch(a==document.body&&(r=window.innerHeight),i.keyCode){case m.up:s=-v.arrowScroll;break;case m.down:s=v.arrowScroll;break;case m.spacebar:s=-(i.shiftKey?1:-1)*r*.9;break;case m.pageup:s=.9*-r;break;case m.pagedown:s=.9*r;break;case m.home:a==document.body&&document.scrollingElement&&(a=document.scrollingElement),s=-a.scrollTop;break;case m.end:var l=a.scrollHeight-a.scrollTop-r;s=0<l?10+l:0;break;case m.left:o=-v.arrowScroll;break;case m.right:o=v.arrowScroll;break;default:return!0}S(a,o,s),i.preventDefault(),M()}function t(e){c=e.target}var n,o,k=(n=0,function(e){return e.uniqueID||(e.uniqueID=n++)}),O={},T={},I={};function M(){clearTimeout(o),o=setInterval(function(){O=T=I={}},1e3)}function D(e,t,i){for(var n=i?O:T,o=e.length;o--;)n[k(e[o])]=t;return t}function $(e){var t=[],i=document.body,n=h.scrollHeight;do{var o=T[k(e)];if(o)return D(t,o);if(t.push(e),n===e.scrollHeight){var s=B(h)&&B(i)||P(h);if(u&&E(h)||!u&&s)return D(t,j())}else if(E(e)&&P(e))return D(t,e)}while(e=e.parentElement)}function E(e){return e.clientHeight+10<e.scrollHeight}function B(e){return"hidden"!==getComputedStyle(e,"").getPropertyValue("overflow-y")}function P(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===t||"auto"===t}function z(e,t,i){window.addEventListener(e,t,i||!1)}function A(e,t,i){window.removeEventListener(e,t,i||!1)}function H(e,t){return e&&(e.nodeName||"").toLowerCase()===t.toLowerCase()}if(window.localStorage&&localStorage.SS_deltaBuffer)try{f=localStorage.SS_deltaBuffer.split(",")}catch(e){}function q(e,t){return Math.floor(e/t)==e/t}function L(e){return q(f[0],e)&&q(f[1],e)&&q(f[2],e)}var F,R=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t,i){window.setTimeout(e,i||1e3/60)},W=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,j=(F=document.scrollingElement,function(){if(!F){var e=document.createElement("div");e.style.cssText="height:10000px;width:1px;",document.body.appendChild(e);var t=document.body.scrollTop;document.documentElement.scrollTop,window.scrollBy(0,3),F=document.body.scrollTop!=t?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)}return F});function N(e){var t;return((e*=v.pulseScale)<1?e-(1-Math.exp(-e)):(e-=1,(t=Math.exp(-1))+(1-Math.exp(-e))*(1-t)))*v.pulseNormalize}var U=window.navigator.userAgent,X=/Edge/.test(U),Y=/chrome/i.test(U)&&!X,V=/safari/i.test(U)&&!X,K=/mobile/i.test(U),Q=/Windows NT 6.1/i.test(U)&&/rv:11/i.test(U),G=V&&(/Version\/8/i.test(U)||/Version\/9/i.test(U)),Z=(Y||V||Q)&&!K,J=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){J=!0}}))}catch(e){}var ee=!!J&&{passive:!1},te="onwheel"in document.createElement("div")?"wheel":"mousewheel";function ie(e){for(var t in e)i.hasOwnProperty(t)&&(v[t]=e[t])}te&&Z&&(z(te,e,ee),z("mousedown",t),z("load",y)),ie.destroy=function(){r&&r.disconnect(),A(te,e),A("mousedown",t),A("keydown",C),A("resize",l),A("load",y)},window.SmoothScrollOptions&&ie(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return ie}):"object"==typeof exports?module.exports=ie:window.SmoothScroll=ie}(),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(l){function c(e){return parseFloat(e)||0}function d(e){var t=l(e),n=null,o=[];return t.each(function(){var e=l(this),t=e.offset().top-c(e.css("margin-top")),i=0<o.length?o[o.length-1]:null;null===i?o.push(e):Math.floor(Math.abs(n-t))<=1?o[o.length-1]=i.add(e):o.push(e),n=t}),o}function u(e){var t={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?l.extend(t,e):("boolean"==typeof e?t.byRow=e:"remove"===e&&(t.remove=!0),t)}var n=-1,o=-1,p=l.fn.matchHeight=function(e){var t=u(e);if(t.remove){var i=this;return this.css(t.property,""),l.each(p._groups,function(e,t){t.elements=t.elements.not(i)}),this}return this.length<=1&&!t.target||(p._groups.push({elements:this,options:t}),p._apply(this,t)),this};p.version="0.7.2",p._groups=[],p._throttle=80,p._maintainScroll=!1,p._beforeUpdate=null,p._afterUpdate=null,p._rows=d,p._parse=c,p._parseOptions=u,p._apply=function(e,t){var s=u(t),i=l(e),n=[i],o=l(window).scrollTop(),a=l("html").outerHeight(!0),r=i.parents().filter(":hidden");return r.each(function(){var e=l(this);e.data("style-cache",e.attr("style"))}),r.css("display","block"),s.byRow&&!s.target&&(i.each(function(){var e=l(this),t=e.css("display");"inline-block"!==t&&"flex"!==t&&"inline-flex"!==t&&(t="block"),e.data("style-cache",e.attr("style")),e.css({display:t,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),n=d(i),i.each(function(){var e=l(this);e.attr("style",e.data("style-cache")||"")})),l.each(n,function(e,t){var i=l(t),o=0;if(s.target)o=s.target.outerHeight(!1);else{if(s.byRow&&i.length<=1)return void i.css(s.property,"");i.each(function(){var e=l(this),t=e.attr("style"),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block");var n={display:i};n[s.property]="",e.css(n),e.outerHeight(!1)>o&&(o=e.outerHeight(!1)),t?e.attr("style",t):e.css("display","")})}i.each(function(){var e=l(this),t=0;s.target&&e.is(s.target)||("border-box"!==e.css("box-sizing")&&(t+=c(e.css("border-top-width"))+c(e.css("border-bottom-width")),t+=c(e.css("padding-top"))+c(e.css("padding-bottom"))),e.css(s.property,o-t+"px"))})}),r.each(function(){var e=l(this);e.attr("style",e.data("style-cache")||null)}),p._maintainScroll&&l(window).scrollTop(o/a*l("html").outerHeight(!0)),this},p._applyDataApi=function(){var i={};l("[data-match-height], [data-mh]").each(function(){var e=l(this),t=e.attr("data-mh")||e.attr("data-match-height");i[t]=t in i?i[t].add(e):e}),l.each(i,function(){this.matchHeight(!0)})};function s(e){p._beforeUpdate&&p._beforeUpdate(e,p._groups),l.each(p._groups,function(){p._apply(this.elements,this.options)}),p._afterUpdate&&p._afterUpdate(e,p._groups)}p._update=function(e,t){if(t&&"resize"===t.type){var i=l(window).width();if(i===n)return;n=i}e?-1===o&&(o=setTimeout(function(){s(t),o=-1},p._throttle)):s(t)},l(p._applyDataApi);var e=l.fn.on?"on":"bind";l(window)[e]("load",function(e){p._update(!1,e)}),l(window)[e]("resize orientationchange",function(e){p._update(!0,e)})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(p){function t(e){var t=e||window.event,i=v.call(arguments,1),n=0,o=0,s=0,a=0,r=0,l=0;if((e=p.event.fix(t)).type="mousewheel","detail"in t&&(s=-1*t.detail),"wheelDelta"in t&&(s=t.wheelDelta),"wheelDeltaY"in t&&(s=t.wheelDeltaY),"wheelDeltaX"in t&&(o=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=-1*s,s=0),n=0===s?o:s,"deltaY"in t&&(n=s=-1*t.deltaY),"deltaX"in t&&(o=t.deltaX,0===s&&(n=-1*o)),0!==s||0!==o){if(1===t.deltaMode){var c=p.data(this,"mousewheel-line-height");n*=c,s*=c,o*=c}else if(2===t.deltaMode){var d=p.data(this,"mousewheel-page-height");n*=d,s*=d,o*=d}if(a=Math.max(Math.abs(s),Math.abs(o)),(!m||a<m)&&(f(t,m=a)&&(m/=40)),f(t,a)&&(n/=40,o/=40,s/=40),n=Math[1<=n?"floor":"ceil"](n/m),o=Math[1<=o?"floor":"ceil"](o/m),s=Math[1<=s?"floor":"ceil"](s/m),_.settings.normalizeOffset&&this.getBoundingClientRect){var u=this.getBoundingClientRect();r=e.clientX-u.left,l=e.clientY-u.top}return e.deltaX=o,e.deltaY=s,e.deltaFactor=m,e.offsetX=r,e.offsetY=l,e.deltaMode=0,i.unshift(e,n,o,s),g&&clearTimeout(g),g=setTimeout(h,200),(p.event.dispatch||p.event.handle).apply(this,i)}}function h(){m=null}function f(e,t){return _.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var g,m,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(p.event.fixHooks)for(var n=e.length;n;)p.event.fixHooks[e[--n]]=p.event.mouseHooks;var _=p.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;p.data(this,"mousewheel-line-height",_.getLineHeight(this)),p.data(this,"mousewheel-page-height",_.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null;p.removeData(this,"mousewheel-line-height"),p.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=p(e),i=t["offsetParent"in p.fn?"offsetParent":"parent"]();return i.length||(i=p("body")),parseInt(i.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return p(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};p.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(p){function t(e){var t=e||window.event,i=v.call(arguments,1),n=0,o=0,s=0,a=0,r=0,l=0;if((e=p.event.fix(t)).type="mousewheel","detail"in t&&(s=-1*t.detail),"wheelDelta"in t&&(s=t.wheelDelta),"wheelDeltaY"in t&&(s=t.wheelDeltaY),"wheelDeltaX"in t&&(o=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=-1*s,s=0),n=0===s?o:s,"deltaY"in t&&(n=s=-1*t.deltaY),"deltaX"in t&&(o=t.deltaX,0===s&&(n=-1*o)),0!==s||0!==o){if(1===t.deltaMode){var c=p.data(this,"mousewheel-line-height");n*=c,s*=c,o*=c}else if(2===t.deltaMode){var d=p.data(this,"mousewheel-page-height");n*=d,s*=d,o*=d}if(a=Math.max(Math.abs(s),Math.abs(o)),(!m||a<m)&&(f(t,m=a)&&(m/=40)),f(t,a)&&(n/=40,o/=40,s/=40),n=Math[1<=n?"floor":"ceil"](n/m),o=Math[1<=o?"floor":"ceil"](o/m),s=Math[1<=s?"floor":"ceil"](s/m),_.settings.normalizeOffset&&this.getBoundingClientRect){var u=this.getBoundingClientRect();r=e.clientX-u.left,l=e.clientY-u.top}return e.deltaX=o,e.deltaY=s,e.deltaFactor=m,e.offsetX=r,e.offsetY=l,e.deltaMode=0,i.unshift(e,n,o,s),g&&clearTimeout(g),g=setTimeout(h,200),(p.event.dispatch||p.event.handle).apply(this,i)}}function h(){m=null}function f(e,t){return _.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var g,m,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(p.event.fixHooks)for(var n=e.length;n;)p.event.fixHooks[e[--n]]=p.event.mouseHooks;var _=p.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;p.data(this,"mousewheel-line-height",_.getLineHeight(this)),p.data(this,"mousewheel-page-height",_.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null;p.removeData(this,"mousewheel-line-height"),p.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=p(e),i=t["offsetParent"in p.fn?"offsetParent":"parent"]();return i.length||(i=p("body")),parseInt(i.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return p(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};p.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(H){var q,h,L,n,o,r,s,m,F,b,f,c,l,d,u,p,g,v,_,y,w,x,C,S,k,O,T,I,R,a,M,D,$,E,W,B,P,z,A,j,N,U,X,Y,V,K,Q,G,Z,J,ee,te,ie,ne,oe,se,ae,e,t,i;e="function"==typeof define&&define.amd,t="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",e||(t?require("jquery-mousewheel")(H):H.event.special.mousewheel||H("head").append(decodeURI("%3Cscript src="+i+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),h="mCustomScrollbar",L="mCS",n=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,s={},m=window.attachEvent&&!window.addEventListener?1:0,F=!1,b=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],f={init:function(a){var a=H.extend(!0,{},o,a),e=c.call(this);if(a.live){var t=a.liveSelector||this.selector||n,i=H(t);if("off"===a.live)return void d(t);s[t]=setTimeout(function(){i.mCustomScrollbar(a),"once"===a.live&&i.length&&d(t)},500)}else d(t);return a.setWidth=a.set_width?a.set_width:a.setWidth,a.setHeight=a.set_height?a.set_height:a.setHeight,a.axis=a.horizontalScroll?"x":u(a.axis),a.scrollInertia=0<a.scrollInertia&&a.scrollInertia<17?17:a.scrollInertia,"object"!=typeof a.mouseWheel&&1==a.mouseWheel&&(a.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),a.mouseWheel.scrollAmount=a.mouseWheelPixels?a.mouseWheelPixels:a.mouseWheel.scrollAmount,a.mouseWheel.normalizeDelta=a.advanced.normalizeMouseWheelDelta?a.advanced.normalizeMouseWheelDelta:a.mouseWheel.normalizeDelta,a.scrollButtons.scrollType=p(a.scrollButtons.scrollType),l(a),H(e).each(function(){var e=H(this);if(!e.data(L)){e.data(L,{idx:++r,opt:a,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:e.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var t=e.data(L),i=t.opt,n=e.data("mcs-axis"),o=e.data("mcs-scrollbar-position"),s=e.data("mcs-theme");n&&(i.axis=n),o&&(i.scrollbarPosition=o),s&&(i.theme=s,l(i)),g.call(this),t&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),H("#mCSB_"+t.idx+"_container img:not(."+b[2]+")").addClass(b[2]),f.update.call(null,e)}})},update:function(e,r){var t=e||c.call(this);return H(t).each(function(){var e=H(this);if(e.data(L)){var t=e.data(L),i=t.opt,n=H("#mCSB_"+t.idx+"_container"),o=H("#mCSB_"+t.idx),s=[H("#mCSB_"+t.idx+"_dragger_vertical"),H("#mCSB_"+t.idx+"_dragger_horizontal")];if(!n.length)return;t.tweenRunning&&Q(e),r&&t&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),e.hasClass(b[3])&&e.removeClass(b[3]),e.hasClass(b[4])&&e.removeClass(b[4]),o.css("max-height","none"),o.height()!==e.height()&&o.css("max-height",e.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||n.css("width",v(n)),t.overflowed=S.call(this),I.call(this),i.autoDraggerLength&&w.call(this),x.call(this),O.call(this);var a=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)];"x"!==i.axis&&(t.overflowed[0]?s[0].height()>s[0].parent().height()?k.call(this):(G(e,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}),t.contentReset.y=null):(k.call(this),"y"===i.axis?T.call(this):"yx"===i.axis&&t.overflowed[1]&&G(e,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(t.overflowed[1]?s[1].width()>s[1].parent().width()?k.call(this):(G(e,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}),t.contentReset.x=null):(k.call(this),"x"===i.axis?T.call(this):"yx"===i.axis&&t.overflowed[0]&&G(e,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),r&&t&&(2===r&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===r&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),K.call(this)}})},scrollTo:function(r,l){if(void 0!==r&&null!=r){var e=c.call(this);return H(e).each(function(){var e=H(this);if(e.data(L)){var t=e.data(L),i=t.opt,n={trigger:"external",scrollInertia:i.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=H.extend(!0,{},n,l),s=Y.call(this,r),a=0<o.scrollInertia&&o.scrollInertia<17?17:o.scrollInertia;s[0]=V.call(this,s[0],"y"),s[1]=V.call(this,s[1],"x"),o.moveDragger&&(s[0]*=t.scrollRatio.y,s[1]*=t.scrollRatio.x),o.dur=ae()?0:a,setTimeout(function(){null!==s[0]&&void 0!==s[0]&&"x"!==i.axis&&t.overflowed[0]&&(o.dir="y",o.overwrite="all",G(e,s[0].toString(),o)),null!==s[1]&&void 0!==s[1]&&"y"!==i.axis&&t.overflowed[1]&&(o.dir="x",o.overwrite="none",G(e,s[1].toString(),o))},o.timeout)}})}},stop:function(){var e=c.call(this);return H(e).each(function(){var e=H(this);e.data(L)&&Q(e)})},disable:function(t){var e=c.call(this);return H(e).each(function(){var e=H(this);e.data(L)&&(e.data(L),K.call(this,"remove"),T.call(this),t&&k.call(this),I.call(this,!0),e.addClass(b[3]))})},destroy:function(){var a=c.call(this);return H(a).each(function(){var e=H(this);if(e.data(L)){var t=e.data(L),i=t.opt,n=H("#mCSB_"+t.idx),o=H("#mCSB_"+t.idx+"_container"),s=H(".mCSB_"+t.idx+"_scrollbar");i.live&&d(i.liveSelector||H(a).selector),K.call(this,"remove"),T.call(this),k.call(this),e.removeData(L),te(this,"mcs"),s.remove(),o.find("img."+b[2]).removeClass(b[2]),n.replaceWith(o.contents()),e.removeClass(h+" _"+L+"_"+t.idx+" "+b[6]+" "+b[7]+" "+b[5]+" "+b[3]).addClass(b[4])}})}},c=function(){return"object"!=typeof H(this)||H(this).length<1?n:this},l=function(e){e.autoDraggerLength=!(-1<H.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&e.autoDraggerLength,e.autoExpandScrollbar=!(-1<H.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&e.autoExpandScrollbar,e.scrollButtons.enable=!(-1<H.inArray(e.theme,["minimal","minimal-dark"]))&&e.scrollButtons.enable,e.autoHideScrollbar=-1<H.inArray(e.theme,["minimal","minimal-dark"])||e.autoHideScrollbar,e.scrollbarPosition=-1<H.inArray(e.theme,["minimal","minimal-dark"])?"outside":e.scrollbarPosition},d=function(e){s[e]&&(clearTimeout(s[e]),te(s,e))},u=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},p=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},g=function(){var e=H(this),t=e.data(L),i=t.opt,n=i.autoExpandScrollbar?" "+b[1]+"_expand":"",o=["<div id='mCSB_"+t.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+n+"'><div class='"+b[12]+"'><div id='mCSB_"+t.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+t.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+n+"'><div class='"+b[12]+"'><div id='mCSB_"+t.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",a="yx"===i.axis?o[0]+o[1]:"x"===i.axis?o[1]:o[0],r="yx"===i.axis?"<div id='mCSB_"+t.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=i.autoHideScrollbar?" "+b[6]:"",c="x"!==i.axis&&"rtl"===t.langDir?" "+b[7]:"";i.setWidth&&e.css("width",i.setWidth),i.setHeight&&e.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===t.langDir?"989999px":i.setLeft,e.addClass(h+" _"+L+"_"+t.idx+l+c).wrapInner("<div id='mCSB_"+t.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+t.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+t.langDir+"' /></div>");var d=H("#mCSB_"+t.idx),u=H("#mCSB_"+t.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||u.css("width",v(u)),"outside"===i.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),d.addClass("mCSB_outside").after(a)):(d.addClass("mCSB_inside").append(a),u.wrap(r)),y.call(this);var p=[H("#mCSB_"+t.idx+"_dragger_vertical"),H("#mCSB_"+t.idx+"_dragger_horizontal")];p[0].css("min-height",p[0].height()),p[1].css("min-width",p[1].width())},v=function(e){var t=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return H(this).outerWidth(!0)}).get())],i=e.parent().width();return i<t[0]?t[0]:i<t[1]?t[1]:"100%"},_=function(){var e=H(this),t=e.data(L),i=t.opt,n=H("#mCSB_"+t.idx+"_container");if(i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis){n.css({width:"auto","min-width":0,"overflow-x":"scroll"});var o=Math.ceil(n[0].scrollWidth);3===i.advanced.autoExpandHorizontalScroll||2!==i.advanced.autoExpandHorizontalScroll&&o>n.parent().width()?n.css({width:o,"min-width":"100%","overflow-x":"inherit"}):n.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(n[0].getBoundingClientRect().right+.4)-Math.floor(n[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},y=function(){var e=H(this),t=e.data(L),i=t.opt,n=H(".mCSB_"+t.idx+"_scrollbar:first"),o=oe(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+b[13]+"' "+o+" />","<a href='#' class='"+b[14]+"' "+o+" />","<a href='#' class='"+b[15]+"' "+o+" />","<a href='#' class='"+b[16]+"' "+o+" />"],a=["x"===i.axis?s[2]:s[0],"x"===i.axis?s[3]:s[1],s[2],s[3]];i.scrollButtons.enable&&n.prepend(a[0]).append(a[1]).next(".mCSB_scrollTools").prepend(a[2]).append(a[3])},w=function(){var e=H(this),t=e.data(L),i=H("#mCSB_"+t.idx),n=H("#mCSB_"+t.idx+"_container"),o=[H("#mCSB_"+t.idx+"_dragger_vertical"),H("#mCSB_"+t.idx+"_dragger_horizontal")],s=[i.height()/n.outerHeight(!1),i.width()/n.outerWidth(!1)],a=[parseInt(o[0].css("min-height")),Math.round(s[0]*o[0].parent().height()),parseInt(o[1].css("min-width")),Math.round(s[1]*o[1].parent().width())],r=m&&a[1]<a[0]?a[0]:a[1],l=m&&a[3]<a[2]?a[2]:a[3];o[0].css({height:r,"max-height":o[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":a[0]+"px"}),o[1].css({width:l,"max-width":o[1].parent().width()-10})},x=function(){var e=H(this),t=e.data(L),i=H("#mCSB_"+t.idx),n=H("#mCSB_"+t.idx+"_container"),o=[H("#mCSB_"+t.idx+"_dragger_vertical"),H("#mCSB_"+t.idx+"_dragger_horizontal")],s=[n.outerHeight(!1)-i.height(),n.outerWidth(!1)-i.width()],a=[s[0]/(o[0].parent().height()-o[0].height()),s[1]/(o[1].parent().width()-o[1].width())];t.scrollRatio={y:a[0],x:a[1]}},C=function(e,t,i){var n=i?b[0]+"_expanded":"",o=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(b[0]+" "+n),o.toggleClass(b[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(b[0]),o.removeClass(b[1])):(e.addClass(b[0]),o.addClass(b[1])))},S=function(){var e=H(this),t=e.data(L),i=H("#mCSB_"+t.idx),n=H("#mCSB_"+t.idx+"_container"),o=null==t.overflowed?n.height():n.outerHeight(!1),s=null==t.overflowed?n.width():n.outerWidth(!1),a=n[0].scrollHeight,r=n[0].scrollWidth;return o<a&&(o=a),s<r&&(s=r),[o>i.height(),s>i.width()]},k=function(){var e=H(this),t=e.data(L),i=t.opt,n=H("#mCSB_"+t.idx),o=H("#mCSB_"+t.idx+"_container"),s=[H("#mCSB_"+t.idx+"_dragger_vertical"),H("#mCSB_"+t.idx+"_dragger_horizontal")];if(Q(e),("x"!==i.axis&&!t.overflowed[0]||"y"===i.axis&&t.overflowed[0])&&(s[0].add(o).css("top",0),G(e,"_resetY")),"y"!==i.axis&&!t.overflowed[1]||"x"===i.axis&&t.overflowed[1]){var a=dx=0;"rtl"===t.langDir&&(a=n.width()-o.outerWidth(!1),dx=Math.abs(a/t.scrollRatio.x)),o.css("left",a),s[1].css("left",dx),G(e,"_resetX")}},O=function(){var t=H(this),e=t.data(L),i=e.opt;if(!e.bindEvents){var n;if(a.call(this),i.contentTouchScroll&&M.call(this),D.call(this),i.mouseWheel.enable)!function e(){n=setTimeout(function(){H.event.special.mousewheel?(clearTimeout(n),$.call(t[0])):e()},100)}();z.call(this),j.call(this),i.advanced.autoScrollOnFocus&&A.call(this),i.scrollButtons.enable&&N.call(this),i.keyboard.enable&&U.call(this),e.bindEvents=!0}},T=function(){var e=H(this),t=e.data(L),i=t.opt,n="mCS_"+t.idx,o=".mCSB_"+t.idx+"_scrollbar",s=H("#mCSB_"+t.idx+",#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,"+o+" ."+b[12]+",#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal,"+o+">a"),a=H("#mCSB_"+t.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(H(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&s.add(H(i.advanced.extraDraggableSelectors)),t.bindEvents&&(H(document).add(H(!W()||top.document)).unbind("."+n),s.each(function(){H(this).unbind("."+n)}),clearTimeout(e[0]._focusTimeout),te(e[0],"_focusTimeout"),clearTimeout(t.sequential.step),te(t.sequential,"step"),clearTimeout(a[0].onCompleteTimeout),te(a[0],"onCompleteTimeout"),t.bindEvents=!1)},I=function(e){var t=H(this),i=t.data(L),n=i.opt,o=H("#mCSB_"+i.idx+"_container_wrapper"),s=o.length?o:H("#mCSB_"+i.idx+"_container"),a=[H("#mCSB_"+i.idx+"_scrollbar_vertical"),H("#mCSB_"+i.idx+"_scrollbar_horizontal")],r=[a[0].find(".mCSB_dragger"),a[1].find(".mCSB_dragger")];"x"!==n.axis&&(i.overflowed[0]&&!e?(a[0].add(r[0]).add(a[0].children("a")).css("display","block"),s.removeClass(b[8]+" "+b[10])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&r[0].css("display","none"),s.removeClass(b[10])):(a[0].css("display","none"),s.addClass(b[10])),s.addClass(b[8]))),"y"!==n.axis&&(i.overflowed[1]&&!e?(a[1].add(r[1]).add(a[1].children("a")).css("display","block"),s.removeClass(b[9]+" "+b[11])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&r[1].css("display","none"),s.removeClass(b[11])):(a[1].css("display","none"),s.addClass(b[11])),s.addClass(b[9]))),i.overflowed[0]||i.overflowed[1]?t.removeClass(b[5]):t.addClass(b[5])},R=function(e){var t=e.type,i=e.target.ownerDocument!==document&&null!==frameElement?[H(frameElement).offset().top,H(frameElement).offset().left]:null,n=W()&&e.target.ownerDocument!==top.document&&null!==frameElement?[H(e.view.frameElement).offset().top,H(e.view.frameElement).offset().left]:[0,0];switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[e.originalEvent.pageY-i[0]+n[0],e.originalEvent.pageX-i[1]+n[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],s=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,1<s]:[o.pageY,o.pageX,1<s];default:return i?[e.pageY-i[0]+n[0],e.pageX-i[1]+n[1],!1]:[e.pageY,e.pageX,!1]}},a=function(){function o(e,t,i,n){if(h[0].idleTimer=u.scrollInertia<233?250:0,a.attr("id")===p[1])var o="x",s=(a[0].offsetLeft-t+n)*d.scrollRatio.x;else var o="y",s=(a[0].offsetTop-e+i)*d.scrollRatio.y;G(c,s.toString(),{dir:o,drag:!0})}var a,r,l,c=H(this),d=c.data(L),u=d.opt,e="mCS_"+d.idx,p=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],h=H("#mCSB_"+d.idx+"_container"),t=H("#"+p[0]+",#"+p[1]),i=u.advanced.releaseDraggableSelectors?t.add(H(u.advanced.releaseDraggableSelectors)):t,n=u.advanced.extraDraggableSelectors?H(!W()||top.document).add(H(u.advanced.extraDraggableSelectors)):H(!W()||top.document);t.bind("contextmenu."+e,function(e){e.preventDefault()}).bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),ie(e)){F=!0,m&&(document.onselectstart=function(){return!1}),B.call(h,!1),Q(c);var t=(a=H(this)).offset(),i=R(e)[0]-t.top,n=R(e)[1]-t.left,o=a.height()+t.top,s=a.width()+t.left;i<o&&0<i&&n<s&&0<n&&(r=i,l=n),C(a,"active",u.autoExpandScrollbar)}}).bind("touchmove."+e,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=a.offset(),i=R(e)[0]-t.top,n=R(e)[1]-t.left;o(r,l,i,n)}),H(document).add(n).bind("mousemove."+e+" pointermove."+e+" MSPointerMove."+e,function(e){if(a){var t=a.offset(),i=R(e)[0]-t.top,n=R(e)[1]-t.left;if(r===i&&l===n)return;o(r,l,i,n)}}).add(i).bind("mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){a&&(C(a,"active",u.autoExpandScrollbar),a=null),F=!1,m&&(document.onselectstart=null),B.call(h,!0)})},M=function(){function t(e){if(!ne(e)||F||R(e)[2])q=0;else{C=S=0,p=q=1,k.removeClass("mCS_touch_action");var t=M.offset();c=R(e)[0]-t.top,h=R(e)[1]-t.left,z=[R(e)[0],R(e)[1]]}}function i(e){if(ne(e)&&!F&&!R(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||S)&&p)){v=J();var t=I.offset(),i=R(e)[0]-t.top,n=R(e)[1]-t.left,o="mcsLinearOut";if($.push(i),E.push(n),z[2]=Math.abs(R(e)[0]-z[0]),z[3]=Math.abs(R(e)[1]-z[1]),O.overflowed[0])var s=D[0].parent().height()-D[0].height(),a=0<c-i&&i-c>-s*O.scrollRatio.y&&(2*z[3]<z[2]||"yx"===T.axis);if(O.overflowed[1])var r=D[1].parent().width()-D[1].width(),l=0<h-n&&n-h>-r*O.scrollRatio.x&&(2*z[2]<z[3]||"yx"===T.axis);a||l?(A||e.preventDefault(),S=1):(C=1,k.addClass("mCS_touch_action")),A&&e.preventDefault(),b="yx"===T.axis?[c-i,h-n]:"x"===T.axis?[null,h-n]:[c-i,null],M[0].idleTimer=250,O.overflowed[0]&&u(b[0],B,o,"y","all",!0),O.overflowed[1]&&u(b[1],B,o,"x",P,!0)}}function n(e){if(!ne(e)||F||R(e)[2])q=0;else{q=1,e.stopImmediatePropagation(),Q(k),m=J();var t=I.offset();f=R(e)[0]-t.top,g=R(e)[1]-t.left,$=[],E=[]}}function o(e){if(ne(e)&&!F&&!R(e)[2]){p=0,e.stopImmediatePropagation(),C=S=0,_=J();var t=I.offset(),i=R(e)[0]-t.top,n=R(e)[1]-t.left;if(!(30<_-v)){var o="mcsEaseOut",s=(w=1e3/(_-m))<2.5,a=s?[$[$.length-2],E[E.length-2]]:[0,0];y=s?[i-a[0],n-a[1]]:[i-f,n-g];var r=[Math.abs(y[0]),Math.abs(y[1])];w=s?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[w,w];var l=[Math.abs(M[0].offsetTop)-y[0]*d(r[0]/w[0],w[0]),Math.abs(M[0].offsetLeft)-y[1]*d(r[1]/w[1],w[1])];b="yx"===T.axis?[l[0],l[1]]:"x"===T.axis?[null,l[1]]:[l[0],null],x=[4*r[0]+T.scrollInertia,4*r[1]+T.scrollInertia];var c=parseInt(T.contentTouchScroll)||0;b[0]=c<r[0]?b[0]:0,b[1]=c<r[1]?b[1]:0,O.overflowed[0]&&u(b[0],x[0],o,"y",P,!1),O.overflowed[1]&&u(b[1],x[1],o,"x",P,!1)}}}function d(e,t){var i=[1.5*t,2*t,t/1.5,t/2];return 90<e?4<t?i[0]:i[3]:60<e?3<t?i[3]:i[2]:30<e?8<t?i[1]:6<t?i[0]:4<t?t:i[2]:8<t?t:i[3]}function u(e,t,i,n,o,s){e&&G(k,e.toString(),{dur:t,scrollEasing:i,dir:n,overwrite:o,drag:s})}var p,c,h,f,g,m,v,_,y,w,b,x,S,C,k=H(this),O=k.data(L),T=O.opt,e="mCS_"+O.idx,I=H("#mCSB_"+O.idx),M=H("#mCSB_"+O.idx+"_container"),D=[H("#mCSB_"+O.idx+"_dragger_vertical"),H("#mCSB_"+O.idx+"_dragger_horizontal")],$=[],E=[],B=0,P="yx"===T.axis?"none":"all",z=[],s=M.find("iframe"),a=["touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,"touchmove."+e+" pointermove."+e+" MSPointerMove."+e,"touchend."+e+" pointerup."+e+" MSPointerUp."+e],A=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;M.bind(a[0],function(e){t(e)}).bind(a[1],function(e){i(e)}),I.bind(a[0],function(e){n(e)}).bind(a[2],function(e){o(e)}),s.length&&s.each(function(){H(this).bind("load",function(){W(this)&&H(this.contentDocument||this.contentWindow.document).bind(a[0],function(e){t(e),n(e)}).bind(a[1],function(e){i(e)}).bind(a[2],function(e){o(e)})})})},D=function(){function o(e,t,i){l.type=i&&s?"stepped":"stepless",l.scrollAmount=10,X(n,e,t,"mcsLinearOut",i?60:null)}var s,n=H(this),a=n.data(L),r=a.opt,l=a.sequential,e="mCS_"+a.idx,c=H("#mCSB_"+a.idx+"_container"),d=c.parent();c.bind("mousedown."+e,function(){q||s||(s=1,F=!0)}).add(document).bind("mousemove."+e,function(e){if(!q&&s&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var t=c.offset(),i=R(e)[0]-t.top+c[0].offsetTop,n=R(e)[1]-t.left+c[0].offsetLeft;0<i&&i<d.height()&&0<n&&n<d.width()?l.step&&o("off",null,"stepped"):("x"!==r.axis&&a.overflowed[0]&&(i<0?o("on",38):i>d.height()&&o("on",40)),"y"!==r.axis&&a.overflowed[1]&&(n<0?o("on",37):n>d.width()&&o("on",39)))}}).bind("mouseup."+e+" dragend."+e,function(){q||(s&&(s=0,o("off",null)),F=!1)})},$=function(){function i(e,t){if(Q(u),!P(u,e.target)){var i="auto"!==h.mouseWheel.deltaFactor?parseInt(h.mouseWheel.deltaFactor):m&&e.deltaFactor<100?100:e.deltaFactor||100,n=h.scrollInertia;if("x"===h.axis||"x"===h.mouseWheel.axis)var o="x",s=[Math.round(i*p.scrollRatio.x),parseInt(h.mouseWheel.scrollAmount)],a="auto"!==h.mouseWheel.scrollAmount?s[1]:s[0]>=f.width()?.9*f.width():s[0],r=Math.abs(H("#mCSB_"+p.idx+"_container")[0].offsetLeft),l=g[1][0].offsetLeft,c=g[1].parent().width()-g[1].width(),d="y"===h.mouseWheel.axis?e.deltaY||t:e.deltaX;else var o="y",s=[Math.round(i*p.scrollRatio.y),parseInt(h.mouseWheel.scrollAmount)],a="auto"!==h.mouseWheel.scrollAmount?s[1]:s[0]>=f.height()?.9*f.height():s[0],r=Math.abs(H("#mCSB_"+p.idx+"_container")[0].offsetTop),l=g[0][0].offsetTop,c=g[0].parent().height()-g[0].height(),d=e.deltaY||t;"y"===o&&!p.overflowed[0]||"x"===o&&!p.overflowed[1]||((h.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(d=-d),h.mouseWheel.normalizeDelta&&(d=d<0?-1:1),(0<d&&0!==l||d<0&&l!==c||h.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!h.mouseWheel.normalizeDelta&&(a=e.deltaFactor,n=17),G(u,(r-d*a).toString(),{dir:o,dur:n}))}}if(H(this).data(L)){var u=H(this),p=u.data(L),h=p.opt,e="mCS_"+p.idx,f=H("#mCSB_"+p.idx),g=[H("#mCSB_"+p.idx+"_dragger_vertical"),H("#mCSB_"+p.idx+"_dragger_horizontal")],t=H("#mCSB_"+p.idx+"_container").find("iframe");t.length&&t.each(function(){H(this).bind("load",function(){W(this)&&H(this.contentDocument||this.contentWindow.document).bind("mousewheel."+e,function(e,t){i(e,t)})})}),f.bind("mousewheel."+e,function(e,t){i(e,t)})}},E=new Object,W=function(e){var t=!1,i=!1,n=null;if(void 0===e?i="#empty":void 0!==H(e).attr("id")&&(i=H(e).attr("id")),!1!==i&&void 0!==E[i])return E[i];if(e){try{var o=e.contentDocument||e.contentWindow.document;n=o.body.innerHTML}catch(e){}t=null!==n}else{try{var o=top.document;n=o.body.innerHTML}catch(e){}t=null!==n}return!1!==i&&(E[i]=t),t},B=function(e){var t=this.find("iframe");if(t.length){var i=e?"auto":"none";t.css("pointer-events",i)}},P=function(e,t){var i=t.nodeName.toLowerCase(),n=e.data(L).opt.mouseWheel.disableOver;return-1<H.inArray(i,n)&&!(-1<H.inArray(i,["select","textarea"])&&!H(t).is(":focus"))},z=function(){var a,r=H(this),l=r.data(L),e="mCS_"+l.idx,c=H("#mCSB_"+l.idx+"_container"),d=c.parent(),t=H(".mCSB_"+l.idx+"_scrollbar ."+b[12]);t.bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){F=!0,H(e.target).hasClass("mCSB_dragger")||(a=1)}).bind("touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){F=!1}).bind("click."+e,function(e){if(a&&(a=0,H(e.target).hasClass(b[12])||H(e.target).hasClass("mCSB_draggerRail"))){Q(r);var t=H(this),i=t.find(".mCSB_dragger");if(0<t.parent(".mCSB_scrollTools_horizontal").length){if(!l.overflowed[1])return;var n="x",o=e.pageX>i.offset().left?-1:1,s=Math.abs(c[0].offsetLeft)-o*(.9*d.width())}else{if(!l.overflowed[0])return;var n="y",o=e.pageY>i.offset().top?-1:1,s=Math.abs(c[0].offsetTop)-o*(.9*d.height())}G(r,s.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}})},A=function(){var s=H(this),e=s.data(L),a=e.opt,t="mCS_"+e.idx,r=H("#mCSB_"+e.idx+"_container"),l=r.parent();r.bind("focusin."+t,function(){var o=H(document.activeElement),e=r.find(".mCustomScrollBox").length;o.is(a.advanced.autoScrollOnFocus)&&(Q(s),clearTimeout(s[0]._focusTimeout),s[0]._focusTimer=e?17*e:0,s[0]._focusTimeout=setTimeout(function(){var e=[se(o)[0],se(o)[1]],t=[r[0].offsetTop,r[0].offsetLeft],i=[0<=t[0]+e[0]&&t[0]+e[0]<l.height()-o.outerHeight(!1),0<=t[1]+e[1]&&t[0]+e[1]<l.width()-o.outerWidth(!1)],n="yx"!==a.axis||i[0]||i[1]?"all":"none";"x"===a.axis||i[0]||G(s,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:n,dur:0}),"y"===a.axis||i[1]||G(s,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:n,dur:0})},s[0]._focusTimer))})},j=function(){var e=H(this),t=e.data(L),i="mCS_"+t.idx,n=H("#mCSB_"+t.idx+"_container").parent();n.bind("scroll."+i,function(){0===n.scrollTop()&&0===n.scrollLeft()||H(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")})},N=function(){var n=H(this),o=n.data(L),s=o.opt,a=o.sequential,e="mCS_"+o.idx,t=".mCSB_"+o.idx+"_scrollbar",i=H(t+">a");i.bind("contextmenu."+e,function(e){e.preventDefault()}).bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e+" mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e+" mouseout."+e+" pointerout."+e+" MSPointerOut."+e+" click."+e,function(e){function t(e,t){a.scrollAmount=s.scrollButtons.scrollAmount,X(n,e,t)}if(e.preventDefault(),ie(e)){var i=H(this).attr("class");switch(a.type=s.scrollButtons.scrollType,e.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;F=!0,o.tweenRunning=!1,t("on",i);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;F=!1,a.dir&&t("off",i);break;case"click":if("stepped"!==a.type||o.tweenRunning)return;t("on",i)}}})},U=function(){function t(e){function t(e,t){d.type=c.keyboard.scrollType,d.scrollAmount=c.keyboard.scrollAmount,"stepped"===d.type&&l.tweenRunning||X(r,e,t)}switch(e.type){case"blur":l.tweenRunning&&d.dir&&t("off",null);break;case"keydown":case"keyup":var i=e.keyCode?e.keyCode:e.which,n="on";if("x"!==c.axis&&(38===i||40===i)||"y"!==c.axis&&(37===i||39===i)){if((38===i||40===i)&&!l.overflowed[0]||(37===i||39===i)&&!l.overflowed[1])return;"keyup"===e.type&&(n="off"),H(document.activeElement).is(h)||(e.preventDefault(),e.stopImmediatePropagation(),t(n,i))}else if(33===i||34===i){if((l.overflowed[0]||l.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){Q(r);var o=34===i?-1:1;if("x"===c.axis||"yx"===c.axis&&l.overflowed[1]&&!l.overflowed[0])var s="x",a=Math.abs(u[0].offsetLeft)-o*(.9*p.width());else var s="y",a=Math.abs(u[0].offsetTop)-o*(.9*p.height());G(r,a.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}}else if((35===i||36===i)&&!H(document.activeElement).is(h)&&((l.overflowed[0]||l.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===c.axis||"yx"===c.axis&&l.overflowed[1]&&!l.overflowed[0])var s="x",a=35===i?Math.abs(p.width()-u.outerWidth(!1)):0;else var s="y",a=35===i?Math.abs(p.height()-u.outerHeight(!1)):0;G(r,a.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}}}var r=H(this),l=r.data(L),c=l.opt,d=l.sequential,e="mCS_"+l.idx,i=H("#mCSB_"+l.idx),u=H("#mCSB_"+l.idx+"_container"),p=u.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",n=u.find("iframe"),o=["blur."+e+" keydown."+e+" keyup."+e];n.length&&n.each(function(){H(this).bind("load",function(){W(this)&&H(this.contentDocument||this.contentWindow.document).bind(o[0],function(e){t(e)})})}),i.attr("tabindex","0").bind(o[0],function(e){t(e)})},X=function(u,e,t,p,h){function f(e){m.snapAmount&&(v.scrollAmount=m.snapAmount instanceof Array?"x"===v.dir[0]?m.snapAmount[1]:m.snapAmount[0]:m.snapAmount);var t="stepped"!==v.type,i=h||(e?t?y/1.5:w:1e3/60),n=e?t?7.5:40:2.5,o=[Math.abs(_[0].offsetTop),Math.abs(_[0].offsetLeft)],s=[10<g.scrollRatio.y?10:g.scrollRatio.y,10<g.scrollRatio.x?10:g.scrollRatio.x],a="x"===v.dir[0]?o[1]+v.dir[1]*(s[1]*n):o[0]+v.dir[1]*(s[0]*n),r="x"===v.dir[0]?o[1]+v.dir[1]*parseInt(v.scrollAmount):o[0]+v.dir[1]*parseInt(v.scrollAmount),l="auto"!==v.scrollAmount?r:a,c=p||(e?t?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),d=!!e;return e&&i<17&&(l="x"===v.dir[0]?o[1]:o[0]),G(u,l.toString(),{dir:v.dir[0],scrollEasing:c,dur:i,onComplete:d}),e?void(v.dir=!1):(clearTimeout(v.step),void(v.step=setTimeout(function(){f()},i)))}var g=u.data(L),m=g.opt,v=g.sequential,_=H("#mCSB_"+g.idx+"_container"),i="stepped"===v.type,y=m.scrollInertia<26?26:m.scrollInertia,w=m.scrollInertia<1?17:m.scrollInertia;switch(e){case"on":if(v.dir=[t===b[16]||t===b[15]||39===t||37===t?"x":"y",t===b[13]||t===b[15]||38===t||37===t?-1:1],Q(u),oe(t)&&"stepped"===v.type)return;f(i);break;case"off":clearTimeout(v.step),te(v,"step"),Q(u),(i||g.tweenRunning&&v.dir)&&f(!0)}},Y=function(e){var t=H(this).data(L).opt,i=[];return"function"==typeof e&&(e=e()),e instanceof Array?i=1<e.length?[e[0],e[1]]:"x"===t.axis?[null,e[0]]:[e[0],null]:(i[0]=e.y?e.y:e.x||"x"===t.axis?null:e,i[1]=e.x?e.x:e.y||"y"===t.axis?null:e),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},V=function(e,t){if(null!=e&&void 0!==e){var i=H(this),n=i.data(L),o=n.opt,s=H("#mCSB_"+n.idx+"_container"),a=s.parent(),r=typeof e;t||(t="x"===o.axis?"x":"y");var l="x"===t?s.outerWidth(!1)-a.width():s.outerHeight(!1)-a.height(),c="x"===t?s[0].offsetLeft:s[0].offsetTop,d="x"===t?"left":"top";switch(r){case"function":return e();case"object":var u=e.jquery?e:H(e);if(!u.length)return;return"x"===t?se(u)[1]:se(u)[0];case"string":case"number":if(oe(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(l*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(c-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var p=c+parseInt(e.split("+=")[1]);return 0<=p?0:Math.abs(p)}if(-1!==e.indexOf("px")&&oe(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(a.height()-s.outerHeight(!1));if("right"===e)return Math.abs(a.width()-s.outerWidth(!1));if("first"!==e&&"last"!==e)return H(e).length?"x"===t?se(H(e))[1]:se(H(e))[0]:(s.css(d,e),void f.update.call(null,i[0]));var u=s.find(":"+e);return"x"===t?se(u)[1]:se(u)[0]}}},K=function(e){function t(e){function t(){this.onload=null,H(e).addClass(b[2]),s(2)}if(H(e).hasClass(b[2]))s();else{var i,n,o=new Image;o.onload=(i=o,n=t,function(){return n.apply(i,arguments)}),o.src=e.src}}function i(){!0===a.advanced.updateOnSelectorChange&&(a.advanced.updateOnSelectorChange="*");var e=0,t=r.find(a.advanced.updateOnSelectorChange);return a.advanced.updateOnSelectorChange&&0<t.length&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function s(e){clearTimeout(r[0].autoUpdate),f.update.call(null,n[0],e)}var n=H(this),o=n.data(L),a=o.opt,r=H("#mCSB_"+o.idx+"_container");return e?(clearTimeout(r[0].autoUpdate),void te(r[0],"autoUpdate")):void function e(){return clearTimeout(r[0].autoUpdate),0===n.parents("html").length?void(n=null):void(r[0].autoUpdate=setTimeout(function(){return a.advanced.updateOnSelectorChange&&(o.poll.change.n=i(),o.poll.change.n!==o.poll.change.o)?(o.poll.change.o=o.poll.change.n,void s(3)):a.advanced.updateOnContentResize&&(o.poll.size.n=n[0].scrollHeight+n[0].scrollWidth+r[0].offsetHeight+n[0].offsetHeight+n[0].offsetWidth,o.poll.size.n!==o.poll.size.o)?(o.poll.size.o=o.poll.size.n,void s(1)):!a.advanced.updateOnImageLoad||"auto"===a.advanced.updateOnImageLoad&&"y"===a.axis||(o.poll.img.n=r.find("img").length,o.poll.img.n===o.poll.img.o)?void((a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad)&&e()):(o.poll.img.o=o.poll.img.n,void r.find("img").each(function(){t(this)}))},a.advanced.autoUpdateTimeout))}()},Q=function(e){var t=e.data(L),i=H("#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal");i.each(function(){ee.call(this)})},G=function(o,e,s){function t(e){return n&&a.callbacks[e]&&"function"==typeof a.callbacks[e]}function i(){var e=[d[0].offsetTop,d[0].offsetLeft],t=[g[0].offsetTop,g[0].offsetLeft],i=[d.outerHeight(!1),d.outerWidth(!1)],n=[c.height(),c.width()];o[0].mcs={content:d,top:e[0],left:e[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-n[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-n[1])),direction:s.dir}}var n=o.data(L),a=n.opt,r={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:a.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=H.extend(r,s),l=[s.dur,s.drag?0:s.dur],c=H("#mCSB_"+n.idx),d=H("#mCSB_"+n.idx+"_container"),u=d.parent(),p=a.callbacks.onTotalScrollOffset?Y.call(o,a.callbacks.onTotalScrollOffset):[0,0],h=a.callbacks.onTotalScrollBackOffset?Y.call(o,a.callbacks.onTotalScrollBackOffset):[0,0];if(n.trigger=s.trigger,0===u.scrollTop()&&0===u.scrollLeft()||(H(".mCSB_"+n.idx+"_scrollbar").css("visibility","visible"),u.scrollTop(0).scrollLeft(0)),"_resetY"!==e||n.contentReset.y||(t("onOverflowYNone")&&a.callbacks.onOverflowYNone.call(o[0]),n.contentReset.y=1),"_resetX"!==e||n.contentReset.x||(t("onOverflowXNone")&&a.callbacks.onOverflowXNone.call(o[0]),n.contentReset.x=1),"_resetY"!==e&&"_resetX"!==e){if(!n.contentReset.y&&o[0].mcs||!n.overflowed[0]||(t("onOverflowY")&&a.callbacks.onOverflowY.call(o[0]),n.contentReset.x=null),!n.contentReset.x&&o[0].mcs||!n.overflowed[1]||(t("onOverflowX")&&a.callbacks.onOverflowX.call(o[0]),n.contentReset.x=null),a.snapAmount){var f=a.snapAmount instanceof Array?"x"===s.dir?a.snapAmount[1]:a.snapAmount[0]:a.snapAmount;e=function(e,t,i){return Math.round(e/t)*t-i}(e,f,a.snapOffset)}switch(s.dir){case"x":var g=H("#mCSB_"+n.idx+"_dragger_horizontal"),m="left",v=d[0].offsetLeft,_=[c.width()-d.outerWidth(!1),g.parent().width()-g.width()],y=[e,0===e?0:e/n.scrollRatio.x],w=p[1],b=h[1],x=0<w?w/n.scrollRatio.x:0,S=0<b?b/n.scrollRatio.x:0;break;case"y":var g=H("#mCSB_"+n.idx+"_dragger_vertical"),m="top",v=d[0].offsetTop,_=[c.height()-d.outerHeight(!1),g.parent().height()-g.height()],y=[e,0===e?0:e/n.scrollRatio.y],w=p[0],b=h[0],x=0<w?w/n.scrollRatio.y:0,S=0<b?b/n.scrollRatio.y:0}y[1]<0||0===y[0]&&0===y[1]?y=[0,0]:y[1]>=_[1]?y=[_[0],_[1]]:y[0]=-y[0],o[0].mcs||(i(),t("onInit")&&a.callbacks.onInit.call(o[0])),clearTimeout(d[0].onCompleteTimeout),Z(g[0],m,Math.round(y[1]),l[1],s.scrollEasing),!n.tweenRunning&&(0===v&&0<=y[0]||v===_[0]&&y[0]<=_[0])||Z(d[0],m,Math.round(y[0]),l[0],s.scrollEasing,s.overwrite,{onStart:function(){s.callbacks&&s.onStart&&!n.tweenRunning&&(t("onScrollStart")&&(i(),a.callbacks.onScrollStart.call(o[0])),n.tweenRunning=!0,C(g),n.cbOffsets=[a.callbacks.alwaysTriggerOffsets||v>=_[0]+w,a.callbacks.alwaysTriggerOffsets||v<=-b])},onUpdate:function(){s.callbacks&&s.onUpdate&&t("whileScrolling")&&(i(),a.callbacks.whileScrolling.call(o[0]))},onComplete:function(){if(s.callbacks&&s.onComplete){"yx"===a.axis&&clearTimeout(d[0].onCompleteTimeout);var e=d[0].idleTimer||0;d[0].onCompleteTimeout=setTimeout(function(){t("onScroll")&&(i(),a.callbacks.onScroll.call(o[0])),t("onTotalScroll")&&y[1]>=_[1]-x&&n.cbOffsets[0]&&(i(),a.callbacks.onTotalScroll.call(o[0])),t("onTotalScrollBack")&&y[1]<=S&&n.cbOffsets[1]&&(i(),a.callbacks.onTotalScrollBack.call(o[0])),n.tweenRunning=!1,d[0].idleTimer=0,C(g,"hide")},e)}}})}},Z=function(e,t,i,n,o,s,a){function r(){_.stop||(g||u.call(),g=J()-f,l(),g>=_.time&&(_.time=g>_.time?g+c-(g-_.time):g+c-1,_.time<g+1&&(_.time=g+1)),_.time<n?_.id=d(r):h.call())}function l(){0<n?(_.currVal=function(e,t,i,n,o){switch(o){case"linear":case"mcsLinear":return i*e/n+t;case"mcsLinearOut":return e/=n,e--,i*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=n,-i*(--e*e*e*e-1)+t;case"easeOutStrong":return i*(1-Math.pow(2,-10*e/n))+t;case"easeOut":case"mcsEaseOut":default:var s=(e/=n)*e,a=s*e;return t+i*(.499999999999997*a*s+-2.5*s*s+5.5*a+-6.5*s+4*e)}}(_.time,m,y,n,o),v[t]=Math.round(_.currVal)+"px"):v[t]=i+"px",p.call()}e._mTween||(e._mTween={top:{},left:{}});var c,d,a=a||{},u=a.onStart||function(){},p=a.onUpdate||function(){},h=a.onComplete||function(){},f=J(),g=0,m=e.offsetTop,v=e.style,_=e._mTween[t];"left"===t&&(m=e.offsetLeft);var y=i-m;_.stop=0,"none"===s||null!=_.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(_.id):clearTimeout(_.id),_.id=null),c=1e3/60,_.time=g+c,d=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},_.id=d(r)},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},ee=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],i=0;i<t.length;i++){var n=t[i];e._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},te=function(t,i){try{delete t[i]}catch(e){t[i]=null}},ie=function(e){return!(e.which&&1!==e.which)},ne=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},se=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ae=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]},H.fn[h]=function(e){return f[e]?f[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void H.error("Method "+e+" does not exist"):f.init.apply(this,arguments)},H[h]=function(e){return f[e]?f[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void H.error("Method "+e+" does not exist"):f.init.apply(this,arguments)},H[h].defaults=o,window[h]=!0,H(window).bind("load",function(){H(n)[h](),H.extend(H.expr[":"],{mcsInView:H.expr[":"].mcsInView||function(e){var t,i,n=H(e),o=n.parents(".mCSB_container");if(o.length)return t=o.parent(),0<=(i=[o[0].offsetTop,o[0].offsetLeft])[0]+se(n)[0]&&i[0]+se(n)[0]<t.height()-n.outerHeight(!1)&&0<=i[1]+se(n)[1]&&i[1]+se(n)[1]<t.width()-n.outerWidth(!1)},mcsInSight:H.expr[":"].mcsInSight||function(e,t,i){var n,o,s,a,r=H(e),l=r.parents(".mCSB_container"),c="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(l.length)return n=[r.outerHeight(!1),r.outerWidth(!1)],s=[l[0].offsetTop+se(r)[0],l[0].offsetLeft+se(r)[1]],o=[l.parent()[0].offsetHeight,l.parent()[0].offsetWidth],s[0]-o[0]*(a=[n[0]<o[0]?c[0]:c[1],n[1]<o[1]?c[0]:c[1]])[0][0]<0&&0<=s[0]+n[0]-o[0]*a[0][1]&&s[1]-o[1]*a[1][0]<0&&0<=s[1]+n[1]-o[1]*a[1][1]},mcsOverflow:H.expr[":"].mcsOverflow||function(e){var t=H(e).data(L);if(t)return t.overflowed[0]||t.overflowed[1]}})})}),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){function e(e,t){this.items=e,this.settings=t||{diacritics:!0}}e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,i,n,o,s=[],a=e.split(/ +/);for(t=0,i=a.length;t<i;t++){if(n=l(a[t]),this.settings.diacritics)for(o in c)c.hasOwnProperty(o)&&(n=n.replace(new RegExp(o,"g"),c[o]));s.push({string:a[t],regex:new RegExp(n,"i")})}return s},e.prototype.iterator=function(e,t){(a(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;t<i;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var o,s,a,r;e=this.prepareSearch(e,t),s=e.tokens,o=e.options.fields,a=s.length,r=e.options.nesting;function l(e,t){var i,n;return e?-1===(n=(e=String(e||"")).search(t.regex))?0:(i=t.string.length/e.length,0===n&&(i+=.5),i):0}var c,d=(c=o.length)?1===c?function(e,t){return l(f(t,o[0],r),e)}:function(e,t){for(var i=0,n=0;i<c;i++)n+=l(f(t,o[i],r),e);return n/c}:function(){return 0};return a?1===a?function(e){return d(s[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,n=0;i<a;i++){if((t=d(s[i],e))<=0)return 0;n+=t}return n/a}:function(e){for(var t=0,i=0;t<a;t++)i+=d(s[t],e);return i/a}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var t,n,o,s,a,r,l,c,d,u,p;if(p=!(e=(o=this).prepareSearch(e,i)).query&&i.sort_empty||i.sort,d=function(e,t){return"$score"===e?t.score:f(o.items[t.id],e,i.nesting)},a=[],p)for(t=0,n=p.length;t<n;t++)!e.query&&"$score"===p[t].field||a.push(p[t]);if(e.query){for(u=!0,t=0,n=a.length;t<n;t++)if("$score"===a[t].field){u=!1;break}u&&a.unshift({field:"$score",direction:"desc"})}else for(t=0,n=a.length;t<n;t++)if("$score"===a[t].field){a.splice(t,1);break}for(c=[],t=0,n=a.length;t<n;t++)c.push("desc"===a[t].direction?-1:1);return(r=a.length)?1===r?(s=a[0].field,l=c[0],function(e,t){return l*h(d(s,e),d(s,t))}):function(e,t){var i,n,o;for(i=0;i<r;i++)if(o=a[i].field,n=c[i]*h(d(o,e),d(o,t)))return n;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=s({},t)).fields,n=t.sort,o=t.sort_empty;return i&&!a(i)&&(t.fields=[i]),n&&!a(n)&&(t.sort=[n]),o&&!a(o)&&(t.sort_empty=[o]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,i){var n,o,t,s,a=this;return o=this.prepareSearch(e,i),i=o.options,e=o.query,s=i.score||a.getScoreFunction(o),e.length?a.iterator(a.items,function(e,t){n=s(e),(!1===i.filter||0<n)&&o.items.push({score:n,id:t})}):a.iterator(a.items,function(e,t){o.items.push({score:1,id:t})}),(t=a.getSortFunction(o,i))&&o.items.sort(t),o.total=o.items.length,"number"==typeof i.limit&&(o.items=o.items.slice(0,i.limit)),o};var h=function(e,t){return"number"==typeof e&&"number"==typeof t||(e=i(String(e||"")),t=i(String(t||""))),t<e?1:e<t?-1:0},s=function(e,t){var i,n,o,s;for(i=1,n=arguments.length;i<n;i++)if(s=arguments[i])for(o in s)s.hasOwnProperty(o)&&(e[o]=s[o]);return e},f=function(e,t,i){if(e&&t){if(!i)return e[t];for(var n=t.split(".");n.length&&(e=e[n.shift()]););return e}},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},l=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},i=function(){var e,t,i,n,o="",s={};for(i in c)if(c.hasOwnProperty(i))for(o+=n=c[i].substring(2,c[i].length-1),e=0,t=n.length;e<t;e++)s[n.charAt(e)]=i;var a=new RegExp("["+o+"]","g");return function(e){return e.replace(a,function(e){return s[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={mixin:function(n){n.plugins={},n.prototype.initializePlugins=function(e){var t,i,n,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},s.isArray(e))for(t=0,i=e.length;t<i;t++)"string"==typeof e[t]?o.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,o.push(e[t].name));else if(e)for(n in e)e.hasOwnProperty(n)&&(this.plugins.settings[n]=e[n],o.push(n));for(;o.length;)this.require(o.shift())},n.prototype.loadPlugin=function(e){var t=this.plugins,i=n.plugins[e];if(!n.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=i.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},n.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},n.define=function(e,t){n.plugins[e]={name:e,fn:t}}}},s={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(C,l,e){"use strict";function k(e,t){if("string"!=typeof t||t.length){var l="string"==typeof t?new RegExp(t,"i"):t,c=function(e){var t=0;if(3===e.nodeType){var i=e.data.search(l);if(0<=i&&0<e.data.length){var n=e.data.match(l),o=document.createElement("span");o.className="highlight";var s=e.splitText(i),a=(s.splitText(n[0].length),s.cloneNode(!0));o.appendChild(a),s.parentNode.replaceChild(o,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var r=0;r<e.childNodes.length;++r)r+=c(e.childNodes[r]);return t};return e.each(function(){c(this)})}}C.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};function n(){}n.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=n.prototype[t[i]]};function c(e){return void 0!==e}function O(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function r(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function i(t,i,e){var n,o=t.trigger,s={};for(n in t.trigger=function(){var e=arguments[0];return-1===i.indexOf(e)?o.apply(t,arguments):void(s[e]=arguments)},e.apply(t,[]),t.trigger=o,s)s.hasOwnProperty(n)&&o.apply(t,s[n])}function p(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),t.start=i.text.length-n,t.length=n}return t}function v(d){function e(e,t){var i,n,o,s,a,r,l,c;t=t||{},(e=e||window.event||{}).metaKey||e.altKey||!t.force&&!1===d.data("grow")||(i=d.val(),e.type&&"keydown"===e.type.toLowerCase()&&(o=97<=(n=e.keyCode)&&n<=122||65<=n&&n<=90||48<=n&&n<=57||32===n,46===n||8===n?(c=p(d[0])).length?i=i.substring(0,c.start)+i.substring(c.start+c.length):8===n&&c.start?i=i.substring(0,c.start-1)+i.substring(c.start+1):46===n&&void 0!==c.start&&(i=i.substring(0,c.start)+i.substring(c.start+1)):o&&(r=e.shiftKey,l=String.fromCharCode(e.keyCode),i+=l=r?l.toUpperCase():l.toLowerCase())),s=d.attr("placeholder"),!i&&s&&(i=s),(a=function(e,t){if(!e)return 0;var i=C("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");!function(e,t,i){var n,o,s={};if(i)for(n=0,o=i.length;n<o;n++)s[i[n]]=e.css(i[n]);else s=e.css();t.css(s)}(t,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var n=i.width();return i.remove(),n}(i,d)+4)!==u&&(u=a,d.width(a),d.triggerHandler("resize")))}var u=null;d.on("keydown keyup update blur",e),e()}var _=/Mac/.test(navigator.userAgent),y=_?91:17,w=_?18:17,b=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,t={before:function(e,t,i){var n=e[t];e[t]=function(){return i.apply(e,arguments),n.apply(e,arguments)}},after:function(t,e,i){var n=t[e];t[e]=function(){var e=n.apply(t,arguments);return i.apply(t,arguments),e}}},d=function(e,t){var i,n,o,s,a=this;(s=e[0]).selectize=a;var r=window.getComputedStyle&&window.getComputedStyle(s,null);if(o=(o=r?r.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",C.extend(a,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++d.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?a.onSearchChange:function(i,n){var o;return function(){var e=this,t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){i.apply(e,t)},n)}}(a.onSearchChange,t.loadThrottle)}),a.sifter=new l(this.options,{diacritics:t.diacritics}),a.settings.options){for(i=0,n=a.settings.options.length;i<n;i++)a.registerOption(a.settings.options[i]);delete a.settings.options}if(a.settings.optgroups){for(i=0,n=a.settings.optgroups.length;i<n;i++)a.registerOptionGroup(a.settings.optgroups[i]);delete a.settings.optgroups}a.settings.mode=a.settings.mode||(1===a.settings.maxItems?"single":"multi"),"boolean"!=typeof a.settings.hideSelected&&(a.settings.hideSelected="multi"===a.settings.mode),a.initializePlugins(a.settings.plugins),a.setupCallbacks(),a.setupTemplates(),a.setup()};return n.mixin(d),void 0!==e?e.mixin(d):function(e,t){t||(t={});console.error("Selectize: "+e),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),C.extend(d.prototype,{setup:function(){var e,t,i,n,o,s,a,r,l,c,d=this,u=d.settings,p=d.eventNS,h=C(window),f=C(document),g=d.$input;if(a=d.settings.mode,r=g.attr("class")||"",e=C("<div>").addClass(u.wrapperClass).addClass(r).addClass(a),t=C("<div>").addClass(u.inputClass).addClass("items").appendTo(e),i=C('<input type="text" autocomplete="off" />').appendTo(t).attr("tabindex",g.is(":disabled")?"-1":d.tabIndex),s=C(u.dropdownParent||e),n=C("<div>").addClass(u.dropdownClass).addClass(a).hide().appendTo(s),o=C("<div>").addClass(u.dropdownContentClass).appendTo(n),(c=g.attr("id"))&&(i.attr("id",c+"-selectized"),C("label[for='"+c+"']").attr("for",c+"-selectized")),d.settings.copyClassesToDropdown&&n.addClass(r),e.css({width:g[0].style.width}),d.plugins.names.length&&(l="plugin-"+d.plugins.names.join(" plugin-"),e.addClass(l),n.addClass(l)),(null===u.maxItems||1<u.maxItems)&&1===d.tagType&&g.attr("multiple","multiple"),d.settings.placeholder&&i.attr("placeholder",u.placeholder),!d.settings.splitOn&&d.settings.delimiter){var m=d.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");d.settings.splitOn=new RegExp("\\s*"+m+"+\\s*")}g.attr("autocorrect")&&i.attr("autocorrect",g.attr("autocorrect")),g.attr("autocapitalize")&&i.attr("autocapitalize",g.attr("autocapitalize")),d.$wrapper=e,d.$control=t,d.$control_input=i,d.$dropdown=n,d.$dropdown_content=o,n.on("mouseenter","[data-selectable]",function(){return d.onOptionHover.apply(d,arguments)}),n.on("mousedown click","[data-selectable]",function(){return d.onOptionSelect.apply(d,arguments)}),function(i,e,t,n){i.on(e,t,function(e){for(var t=e.target;t&&t.parentNode!==i[0];)t=t.parentNode;return e.currentTarget=t,n.apply(this,[e])})}(t,"mousedown","*:not(input)",function(){return d.onItemSelect.apply(d,arguments)}),v(i),t.on({mousedown:function(){return d.onMouseDown.apply(d,arguments)},click:function(){return d.onClick.apply(d,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return d.onKeyDown.apply(d,arguments)},keyup:function(){return d.onKeyUp.apply(d,arguments)},keypress:function(){return d.onKeyPress.apply(d,arguments)},resize:function(){d.positionDropdown.apply(d,[])},blur:function(){return d.onBlur.apply(d,arguments)},focus:function(){return d.ignoreBlur=!1,d.onFocus.apply(d,arguments)},paste:function(){return d.onPaste.apply(d,arguments)}}),f.on("keydown"+p,function(e){d.isCmdDown=e[_?"metaKey":"ctrlKey"],d.isCtrlDown=e[_?"altKey":"ctrlKey"],d.isShiftDown=e.shiftKey}),f.on("keyup"+p,function(e){e.keyCode===w&&(d.isCtrlDown=!1),16===e.keyCode&&(d.isShiftDown=!1),e.keyCode===y&&(d.isCmdDown=!1)}),f.on("mousedown"+p,function(e){if(d.isFocused){if(e.target===d.$dropdown[0]||e.target.parentNode===d.$dropdown[0])return!1;d.$control.has(e.target).length||e.target===d.$control[0]||d.blur(e.target)}}),h.on(["scroll"+p,"resize"+p].join(" "),function(){d.isOpen&&d.positionDropdown.apply(d,arguments)}),h.on("mousemove"+p,function(){d.ignoreHover=!1}),this.revertSettings={$children:g.children().detach(),tabindex:g.attr("tabindex")},g.attr("tabindex",-1).hide().after(d.$wrapper),C.isArray(u.items)&&(d.setValue(u.items),delete u.items),b&&g.on("invalid"+p,function(e){e.preventDefault(),d.isInvalid=!0,d.refreshState()}),d.updateOriginalInput(),d.refreshItems(),d.refreshState(),d.updatePlaceholder(),d.isSetup=!0,g.is(":disabled")&&d.disable(),d.on("change",this.onChange),g.data("selectize",d),g.addClass("selectized"),d.trigger("initialize"),!0===u.preload&&d.onSearchChange("")},setupTemplates:function(){var i=this.settings.labelField,n=this.settings.optgroupLabelField,e={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[n])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=C.extend({},e,this.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&((t=this.settings[i[e]])&&this.on(e,t))},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,i=e.isDefaultPrevented();if(C(e.target),t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():i||t.setActiveItem(null),!1}else i||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var o=this;return o.isFull()||o.isInputHidden||o.isLocked?void e.preventDefault():void(o.settings.splitOn&&setTimeout(function(){var e=o.$control_input.val();if(e.match(o.settings.splitOn))for(var t=C.trim(e).split(o.settings.splitOn),i=0,n=t.length;i<n;i++)o.createItem(t[i])},0))},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target,this.$control_input[0],this);if(!t.isLocked){switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,-1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(_?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()}9!==e.keyCode&&e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var i=t.$control_input.val()||"";t.lastValue!==i&&(t.lastValue=i,t.onSearchChange(i),t.refreshOptions(),t.trigger("type",i))},onSearchChange:function(t){var i=this,n=i.settings.load;n&&(i.loadedSearches.hasOwnProperty(t)||(i.loadedSearches[t]=!0,i.load(function(e){n.apply(i,[t,e])})))},onFocus:function(e){var t=this,i=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(e);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),t&&t.focus&&t.focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,i,n=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(i=C(e.currentTarget)).hasClass("create")?n.createItem(null,function(){n.settings.closeAfterSelect&&n.close()}):void 0!==(t=i.attr("data-value"))&&(n.lastQuery=null,n.setTextboxValue(""),n.addItem(t),n.settings.closeAfterSelect?n.close():!n.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&n.setActiveOption(n.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){i(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var i,n,o,s,a,r,l,c,d=this;if("single"!==d.settings.mode){if(!(e=C(e)).length)return C(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if("mousedown"===(i=t&&t.type.toLowerCase())&&d.isShiftDown&&d.$activeItems.length){for(c=d.$control.children(".active:last"),s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[c[0]]),(a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[e[0]]))<s&&(l=s,s=a,a=l),n=s;n<=a;n++)r=d.$control[0].childNodes[n],-1===d.$activeItems.indexOf(r)&&(C(r).addClass("active"),d.$activeItems.push(r));t.preventDefault()}else"mousedown"===i&&d.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(o=d.$activeItems.indexOf(e[0]),d.$activeItems.splice(o,1),e.removeClass("active")):d.$activeItems.push(e.addClass("active")[0]):(C(d.$activeItems).removeClass("active"),d.$activeItems=[e.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(e,t,i){var n,o,s,a,r,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(e=C(e)).length&&(l.$activeOption=e.addClass("active"),!t&&c(t)||(n=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),t=l.$dropdown_content.scrollTop()||0,r=(a=s=l.$activeOption.offset().top-l.$dropdown_content.offset().top+t)-n+o,n+t<s+o?l.$dropdown_content.stop().animate({scrollTop:r},i?l.settings.scrollDuration:0):s<t&&l.$dropdown_content.stop().animate({scrollTop:a},i?l.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(e){var t,i,n,o=this,s=o.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(n=o.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==o.lastQuery?(o.lastQuery=e,i=o.sifter.search(e,C.extend(a,{score:n})),o.currentResults=i):i=C.extend(!0,{},o.currentResults),s.hideSelected)for(t=i.items.length-1;0<=t;t--)-1!==o.items.indexOf(O(i.items[t].id))&&i.items.splice(t,1);return i},refreshOptions:function(e){var t,i,n,o,s,a,r,l,c,d,u,p,h,f,g,m;void 0===e&&(e=!0);var v,_,y=this,w=C.trim(y.$control_input.val()),b=y.search(w),x=y.$dropdown_content,S=y.$activeOption&&O(y.$activeOption.attr("data-value"));for(o=b.items.length,"number"==typeof y.settings.maxOptions&&(o=Math.min(o,y.settings.maxOptions)),s={},a=[],t=0;t<o;t++)for(r=y.options[b.items[t].id],l=y.render("option",r),c=r[y.settings.optgroupField]||"",i=0,n=(d=C.isArray(c)?c:[c])&&d.length;i<n;i++)c=d[i],y.optgroups.hasOwnProperty(c)||(c=""),s.hasOwnProperty(c)||(s[c]=document.createDocumentFragment(),a.push(c)),s[c].appendChild(l);for(this.settings.lockOptgroupOrder&&a.sort(function(e,t){return(y.optgroups[e].$order||0)-(y.optgroups[t].$order||0)}),u=document.createDocumentFragment(),t=0,o=a.length;t<o;t++)c=a[t],y.optgroups.hasOwnProperty(c)&&s[c].childNodes.length?((p=document.createDocumentFragment()).appendChild(y.render("optgroup_header",y.optgroups[c])),p.appendChild(s[c]),u.appendChild(y.render("optgroup",C.extend({},y.optgroups[c],{html:(v=p,_=void 0,_=document.createElement("div"),_.appendChild(v.cloneNode(!0)),_.innerHTML),dom:p})))):u.appendChild(s[c]);if(x.html(u),y.settings.highlight&&b.query.length&&b.tokens.length)for(x.removeHighlight(),t=0,o=b.tokens.length;t<o;t++)k(x,b.tokens[t].regex);if(!y.settings.hideSelected)for(t=0,o=y.items.length;t<o;t++)y.getOption(y.items[t]).addClass("selected");(h=y.canCreate(w))&&(x.prepend(y.render("option_create",{input:w})),m=C(x[0].childNodes[0])),y.hasOptions=0<b.items.length||h,y.hasOptions?(0<b.items.length?((g=S&&y.getOption(S))&&g.length?f=g:"single"===y.settings.mode&&y.items.length&&(f=y.getOption(y.items[0])),f&&f.length||(f=m&&!y.settings.addPrecedence?y.getAdjacentOption(m,1):x.find("[data-selectable]:first"))):f=m,y.setActiveOption(f),e&&!y.isOpen&&y.open()):(y.setActiveOption(null),e&&y.isOpen&&y.close())},addOption:function(e){var t,i,n,o=this;if(C.isArray(e))for(t=0,i=e.length;t<i;t++)o.addOption(e[t]);else(n=o.registerOption(e))&&(o.userOptions[n]=!0,o.lastQuery=null,o.trigger("option_add",n,e))},registerOption:function(e){var t=O(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=O(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var i,n,o,s,a,r,l,c=this;if(e=O(e),o=O(t[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=c.options[e].$order,o!==e&&(delete c.options[e],-1!==(s=c.items.indexOf(e))&&c.items.splice(s,1,o)),t.$order=t.$order||l,c.options[o]=t,a=c.renderCache.item,r=c.renderCache.option,a&&(delete a[e],delete a[o]),r&&(delete r[e],delete r[o]),-1!==c.items.indexOf(o)&&(i=c.getItem(e),n=C(c.render("item",t)),i.hasClass("active")&&n.addClass("active"),i.replaceWith(n)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){var i=this;e=O(e);var n=i.renderCache.item,o=i.renderCache.option;n&&delete n[e],o&&delete o[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var i=this.$dropdown.find("[data-selectable]"),n=i.index(e)+t;return 0<=n&&n<i.length?i.eq(n):C()},getElementWithValue:function(e,t){if(null!=(e=O(e)))for(var i=0,n=t.length;i<n;i++)if(t[i].getAttribute("data-value")===e)return C(t[i]);return C()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){for(var i=C.isArray(e)?e:[e],n=0,o=i.length;n<o;n++)this.isPending=n<o-1,this.addItem(i[n],t)},addItem:function(r,l){i(this,l?[]:["change"],function(){var e,t,i,n,o,s=this,a=s.settings.mode;return r=O(r),-1!==s.items.indexOf(r)?void("single"===a&&s.close()):void(s.options.hasOwnProperty(r)&&("single"===a&&s.clear(l),"multi"===a&&s.isFull()||(e=C(s.render("item",s.options[r])),o=s.isFull(),s.items.splice(s.caretPos,0,r),s.insertAtCaret(e),s.isPending&&(o||!s.isFull())||s.refreshState(),s.isSetup&&(i=s.$dropdown_content.find("[data-selectable]"),s.isPending||(t=s.getOption(r),n=s.getAdjacentOption(t,1).attr("data-value"),s.refreshOptions(s.isFocused&&"single"!==a),n&&s.setActiveOption(s.getOption(n))),!i.length||s.isFull()?s.close():s.positionDropdown(),s.updatePlaceholder(),s.trigger("item_add",r,e),s.updateOriginalInput({silent:l})))))})},removeItem:function(e,t){var i,n,o,s=this;i=e instanceof C?e:s.getItem(e),e=O(i.attr("data-value")),-1!==(n=s.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(o=s.$activeItems.indexOf(i[0]),s.$activeItems.splice(o,1)),s.items.splice(n,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,t),n<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:t}),s.positionDropdown(),s.trigger("item_remove",e,i))},createItem:function(e,i){var n=this,o=n.caretPos;e=e||C.trim(n.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(e))return s(),!1;n.lock();var t="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},a=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}(function(e){if(n.unlock(),!e||"object"!=typeof e)return s();var t=O(e[n.settings.valueField]);return"string"!=typeof t?s():(n.setTextboxValue(""),n.addOption(e),n.setCaret(o),n.addItem(t),n.refreshOptions(i&&"single"!==n.settings.mode),void s(e))}),r=t.apply(this,[e,a]);return void 0!==r&&a(r),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var e=this,t=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!C.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,n,o,s=this;if(e=e||{},1===s.tagType){for(n=[],t=0,i=s.items.length;t<i;t++)o=s.options[s.items[t]][s.settings.labelField]||"",n.push('<option value="'+r(s.items[t])+'" selected="selected">'+r(o)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),s.$input.html(n.join(""))}else s.$input.val(s.getValue()),s.$input.attr("value",s.$input.val());s.isSetup&&(e.silent||s.trigger("change",s.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length);0===t?this.$control.prepend(e):C(this.$control[0].childNodes[t]).before(e),this.setCaret(t+1)},deleteSelection:function(e){var t,i,n,o,s,a,r,l,c,d=this;if(n=e&&8===e.keyCode?-1:1,o=p(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(r=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),s=[],d.$activeItems.length){for(c=d.$control.children(".active:"+(0<n?"last":"first")),a=d.$control.children(":not(input)").index(c),0<n&&a++,t=0,i=d.$activeItems.length;t<i;t++)s.push(C(d.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(n<0&&0===o.start&&0===o.length?s.push(d.items[d.caretPos-1]):0<n&&o.start===d.$control_input.val().length&&s.push(d.items[d.caretPos]));if(!s.length||"function"==typeof d.settings.onDelete&&!1===d.settings.onDelete.apply(d,[s]))return!1;for(void 0!==a&&d.setCaret(a);s.length;)d.removeItem(s.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),r&&((l=d.getOption(r)).length&&d.setActiveOption(l)),!0},advanceSelection:function(e,t){var i,n,o,s,a,r=this;0!==e&&(r.rtl&&(e*=-1),i=0<e?"last":"first",n=p(r.$control_input[0]),r.isFocused&&!r.isInputHidden?(s=r.$control_input.val().length,(e<0?0!==n.start||0!==n.length:n.start!==s)||s||r.advanceCaret(e,t)):(a=r.$control.children(".active:"+i)).length&&(o=r.$control.children(":not(input)").index(a),r.setActiveItem(null),r.setCaret(0<e?o+1:o)))},advanceCaret:function(e,t){var i,n,o=this;0!==e&&(i=0<e?"next":"prev",o.isShiftDown?(n=o.$control_input[i]()).length&&(o.hideInput(),o.setActiveItem(n),t&&t.preventDefault()):o.setCaret(o.caretPos+e))},setCaret:function(e){var t,i,n,o,s=this;if(e="single"===s.settings.mode?s.items.length:Math.max(0,Math.min(s.items.length,e)),!s.isPending)for(t=0,i=(n=s.$control.children(":not(input)")).length;t<i;t++)o=C(n[t]).detach(),t<e?s.$control_input.before(o):s.$control.append(o);s.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var e=this,t=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),C(window).off(t),C(document).off(t),C(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var i,n,o="",s=!1,a=this;return"option"!==e&&"item"!==e||(s=!!(i=O(t[a.settings.valueField]))),s&&(c(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(i))?a.renderCache[e][i]:(o=C(a.settings.render[e].apply(this,[t,r])),"option"===e||"option_create"===e?o.attr("data-selectable",""):"optgroup"===e&&(n=t[a.settings.optgroupValueField]||"",o.attr("data-group",n)),"option"!==e&&"item"!==e||o.attr("data-value",i||""),s&&(a.renderCache[e][i]=o[0]),o[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),d.count=0,d.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},C.fn.selectize=function(o){var s=C.fn.selectize.defaults,u=C.extend({},s,o),p=u.dataAttr,h=u.labelField,f=u.valueField,g=u.optgroupField,m=u.optgroupLabelField,v=u.optgroupValueField;return this.each(function(){if(!this.selectize){var e=C(this),t=this.tagName.toLowerCase(),i=e.attr("placeholder")||e.attr("data-placeholder");i||u.allowEmptyOption||(i=e.children('option[value=""]').text());var n={placeholder:i,options:[],optgroups:[],items:[]};"select"===t?function(e,a){function r(e){var t=p&&e.attr(p);return"string"==typeof t&&t.length?JSON.parse(t):null}function l(e,t){e=C(e);var i=O(e.val());if(i||u.allowEmptyOption)if(d.hasOwnProperty(i)){if(t){var n=d[i][g];n?C.isArray(n)?n.push(t):d[i][g]=[n,t]:d[i][g]=t}}else{var o=r(e)||{};o[h]=o[h]||e.text(),o[f]=o[f]||i,o[g]=o[g]||t,d[i]=o,c.push(o),e.is(":selected")&&a.items.push(i)}}function t(e){var t,i,n,o,s;for((n=(e=C(e)).attr("label"))&&((o=r(e)||{})[m]=n,o[v]=n,a.optgroups.push(o)),t=0,i=(s=C("option",e)).length;t<i;t++)l(s[t],n)}var i,n,o,s,c=a.options,d={};for(a.maxItems=e.attr("multiple")?null:1,i=0,n=(s=e.children()).length;i<n;i++)"optgroup"===(o=s[i].tagName.toLowerCase())?t(s[i]):"option"===o&&l(s[i])}(e,n):function(e,t){var i,n,o,s,a=e.attr(p);if(a)for(t.options=JSON.parse(a),i=0,n=t.options.length;i<n;i++)t.items.push(t.options[i][f]);else{var r=C.trim(e.val()||"");if(!u.allowEmptyOption&&!r.length)return;for(i=0,n=(o=r.split(u.delimiter)).length;i<n;i++)(s={})[h]=o[i],s[f]=o[i],t.options.push(s);t.items=o}}(e,n),new d(e,C.extend(!0,{},s,n,o))}})},C.fn.selectize.defaults=d.defaults,C.fn.selectize.support={validity:b},d.define("drag_drop",function(e){if(!C.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=(o=n.lock,function(){var e=n.$control.data("sortable");return e&&e.disable(),o.apply(n,arguments)}),n.unlock=(i=n.unlock,function(){var e=n.$control.data("sortable");return e&&e.enable(),i.apply(n,arguments)}),n.setup=(t=n.setup,function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,t=[];i.children("[data-value]").each(function(){t.push(C(this).attr("data-value"))}),n.setValue(t),n.setActiveItem(e)}})})}var t,i,o}),d.define("dropdown_header",function(e){var t,i=this;e=C.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),i.setup=(t=i.setup,function(){t.apply(i,arguments),i.$dropdown_header=C(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})}),d.define("optgroup_columns",function(r){var s,l=this;r=C.extend({equalizeWidth:!0,equalizeHeight:!0},r),this.getAdjacentOption=function(e,t){var i=e.closest("[data-group]").find("[data-selectable]"),n=i.index(e)+t;return 0<=n&&n<i.length?i.eq(n):C()},this.onKeyDown=(s=l.onKeyDown,function(e){var t,i,n,o;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?s.apply(this,arguments):(l.ignoreHover=!0,t=(o=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((i=(n=(o=37===e.keyCode?o.prev("[data-group]"):o.next("[data-group]")).find("[data-selectable]")).eq(Math.min(n.length-1,t))).length&&this.setActiveOption(i)))});function e(){var e,t,i,n,o,s,a;if((t=(a=C("[data-group]",l.$dropdown_content)).length)&&l.$dropdown_content.width()){if(r.equalizeHeight){for(e=i=0;e<t;e++)i=Math.max(i,a.eq(e).height());a.css({height:i})}r.equalizeWidth&&(s=l.$dropdown_content.innerWidth()-c(),n=Math.round(s/t),a.css({width:n}),1<t&&(o=s-n*(t-1),a.eq(t-1).css({width:o})))}}var c=function(){var e,t=c.width,i=document;return void 0===t&&((e=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=c.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t};(r.equalizeHeight||r.equalizeWidth)&&(t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e))}),d.define("remove_button",function(e){e=C.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var i,n,o,s,a;return"single"===this.settings.mode?void function(i,n){n.className="remove-single";var o,s=i,a='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+r(n.title)+'">'+n.label+"</a>";i.setup=(o=s.setup,function(){if(n.append){var e=C(s.$input.context).attr("id"),t=(C("#"+e),s.settings.render.item);s.settings.render.item=function(e){return function(e,t){return e+t}(t.apply(i,arguments),a)}}o.apply(i,arguments),i.$control.on("click","."+n.className,function(e){e.preventDefault(),s.isLocked||s.clear()})})}(this,e):(s=i=this,a='<a href="javascript:void(0)" class="'+(n=e).className+'" tabindex="-1" title="'+r(n.title)+'">'+n.label+"</a>",void(i.setup=(o=s.setup,function(){if(n.append){var t=s.settings.render.item;s.settings.render.item=function(e){return function(e,t){var i=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,i)+t+e.substring(i)}(t.apply(i,arguments),a)}}o.apply(i,arguments),i.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!s.isLocked){var t=C(e.currentTarget).parent();s.setActiveItem(t),s.deleteSelection()&&s.setCaret(s.items.length)}})})))}),d.define("restore_on_backspace",function(n){var o,e=this;n.text=n.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(o=e.onKeyDown,function(e){var t,i;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length?(i=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(n.text.apply(this,[i])),this.refreshOptions(!0)),void e.preventDefault()):o.apply(this,arguments)})}),d}),jQuery(document).on("woof_ajax_done",woof_ajax_done_handler),jQuery(function(d){var s=d(window).width(),o=d(window).height(),a=d(window).scrollTop(),e=d("body.home").length,t=d("body.search").length,r=d("body.inform.single").length,l=d("body.product.single").length,c=(d(".cart_out .cart_item").length,d(".sticky_box").length),i=d(".custom_selects_box").length,n=d(".woof_price3_search_container").length,u=0,p=0;function h(){d(".products_row").each(function(){d(this).offset().top-o+100<a&&(d(this).css("opacity","1"),d(this).find(".catalog_item").css("height","auto"))})}function f(){var e=d(".subcat_container .products .catalog_item");if(e.prependTo(".subcat_container .products").removeClass("item1 item2 item3 item4"),d(".products_row").remove(),s<750)var t=2;if(750<s&&s<1100)t=3;if(1100<s)t=4;for(var i=0;i<e.length;i+=t)e.slice(i,i+t).wrapAll("<div class='products_row'></div>");d(".products_row").each(function(e){var t=e+1;d(this).addClass("products_row"+t),d(this).find(".catalog_item").each(function(e){var t=e+1;d(this).addClass("item"+t)})}),d(".products_row").append('<div class="spacer"></div>'),e.css("opacity","1"),d(".content_main .preloader").css("display","none")}function g(){var e=function(e){var t;if(e){var i=location.href.indexOf("?");if(-1==i)return[];t=location.href.substr(i+1)}else t=location.search.substr(1);var r={};return t.split("&").forEach(function(e){if(e){var t=(e=e.split("+").join(" ")).indexOf("="),i=-1<t?e.substr(0,t):e,n=-1<t?decodeURIComponent(e.substr(t+1)):"",o=i.indexOf("[");if(-1==o)r[decodeURIComponent(i)]=n;else{var s=i.indexOf("]",o),a=decodeURIComponent(i.substring(o+1,s));i=decodeURIComponent(i.substring(0,o)),r[i]||(r[i]=[]),a?r[i][a]=n:r[i].push(n)}}}),r}(location.href);for(var t in e)"filter"!==t&&"product_cat"!==t&&d(".subcat_container").addClass("with_reset").find(".reset_wrap").css("display","block")}function m(){p=d(".mob_menu").outerHeight()}function v(){d(".main_layout_wrap").css({"max-height":p+"px",overflow:"hidden"})}function _(){var e=d(".home_slider_box_wrap"),t=e.outerWidth(),i=e.outerHeight();e.find(".slide").css({width:t+"px",height:i+"px"})}function y(){if(950<s&&c){var e=d(".content_main"),t=d(".sticky_box"),i=t.outerHeight(),n=e.offset().top,o=e.outerHeight()+n-i-30;a<""+n&&d(t).css({top:"0",bottom:"auto"}).removeClass("stop").removeClass("fixed").addClass("free"),""+n<=a&&a<o&&d(t).css({top:"0",bottom:"auto"}).removeClass("stop").removeClass("free").addClass("fixed"),o<=a&&d(t).css({top:"auto",bottom:"30px"}).removeClass("fixed").removeClass("free").addClass("stop")}}n&&d(".subcat_container").addClass("with_price"),i&&d(".subcat_container").addClass("with_custom_selects_box"),d(".subcat_container .mob_catselect").on("change",function(){var e=d(this).closest(".custom_selects_box").attr("data-superparent");if(d(this).is(".mob_catselect_brand")&&window.location.replace("/product-category/"+e+"/"+this.value),d(this).is(".mob_catselect_model")){var t=d(".mob_catselect_brand option:selected").attr("value");window.location.replace("/product-category/"+e+"/"+t+"/"+this.value)}}),d(".custom_select_wrap").click(function(){return d(".custom_select_wrap").not(d(this).parent()[0]).removeClass("opened"),d(this).toggleClass("opened"),!1}),d(document).click(function(e){that=e.target,d(that).closest(".custom_select_wrap").length<1&&!d(that).hasClass("custom_select_wrap")&&d(".custom_select_wrap").removeClass("opened")}),d(".custom_select").each(function(){var i=window.location.href,n=d(this).closest(".custom_select_wrap"),t=n.data("placeholder");d(this).selectize({onInitialize:function(e){d(".selectize-control .selectize-input").prepend('<div class="placeholder"></div>'),750<s&&d(".custom_select_wrap").css("display","block"),n.find(".placeholder").text(""+t)},onChange:function(e){d(".products").css("opacity","0"),d(".preloader").css("display","block");var t=n.find('select option[selected="selected"]').attr("value");(n.is("#cat_brand")||n.is("#cat_model"))&&window.location.replace(i+"/"+t)}})}),d(".subcat_container .chosen-results, .woof_products_top_panel a").click(function(){d(".preloader").css("display","block"),d(".subcat_container .content_main .products, .woof_products_top_panel").css("opacity","0")}),d("select").each(function(){var e=d(this).find('option[value="0"]'),t=e.text().replace("Товар ","");e.text(""+t)}),d(document).on("woof_ajax_done",function(e){d(".catalog_item").css("opacity","1"),W(),N(),O(),Y()}),d(".mob_menu_back").click(function(){d(this).fadeOut(200),d(".mob_menu").css("left","-280px"),setTimeout(function(){d(".main_layout_wrap").css({"max-height":"none",overflow:"auto"})},200)}),d(".mob_menu_in").click(function(){d(".mob_menu_back").fadeIn(200),d(".mob_menu").css("left","0"),setTimeout(function(){v()},200)}),d(".mob_menu .mob_menu_cat .lvl1url").click(function(){d(this).is(".active")?(d(".mob_menu .mob_menu_cat .subcats_box").css("display","none"),d(this).removeClass("active")):(d(".mob_menu .mob_menu_cat .lvl1url").removeClass("active"),d(".mob_menu .mob_menu_cat .subcats_box").css("display","none"),d(this).parent().find(".subcats_box").fadeIn(200),d(this).addClass("active")),m(),v()}),d(".sorting_option .option").click(function(){var e=d(this).attr("sort_option"),t=window.location.href;if(-1!==(t=(t=(t=(t=(t=(t=t.replace("&orderby=","")).replace("?orderby=","")).replace("price","")).replace("rating","")).replace("-desc","")).replace("date","")).indexOf("?"))var i=t+"&orderby="+e;else i=t+"?orderby="+e;window.location=i}),d("body.woof_search_is_going .show_filters").addClass("active"),d(".show_filters").click(function(){d(".mob_sorting").css("display","none"),d(".show_sorting").removeClass("active"),d(this).is(".active")?(d(".content_side").css("display","none"),d(this).removeClass("active")):(d(".content_side").fadeIn(200),d(this).addClass("active"))}),d(".show_sorting").click(function(){d(".content_side").css("display","none"),d(".show_filters").removeClass("active"),d(this).is(".active")?(d(".mob_sorting").css("display","none"),d(this).removeClass("active")):(d(".mob_sorting").fadeIn(200),d(this).addClass("active"))}),d(".pagination_box").each(function(){d(this).find(".current").length||d(this).remove()}),d("#myfield25_field label").click(function(){var e=d(this).parent();e.is(".checked")?(d("#myfield25").val(""),e.removeClass("checked")):(d("#myfield25").val("Юридическое лицо является индивидуальным предпринимателем"),e.addClass("checked"))});var w=d("#billing_city_field, #billing_myfield7_field, #billing_myfield8_field, #billing_myfield9_field, #billing_myfield10_field, #billing_myfield17_field");function b(){var e=d(".delivery_pseudo_submit"),t=d("#billing_myfield17").val(),i=d("#billing_myfield7").val(),n=d("#billing_myfield9").val();d(".shipping_method.checked").is(".local_pickup")?e.css("display","none"):(t||e.css("display","block"),i||e.css("display","block"),n||e.css("display","block"),t&&i&&n&&e.css("display","none"))}function x(){var t;d(".payment_type.checked").is(".payment_ur_cash")||d(".payment_type.checked").is(".payment_ur_nocash")?d(".company_requisites .form-row").each(function(){if(!(d(this).is("#myfield19_field")||d(this).is("#myfield21_field")||d(this).is("#myfield22_field")||d(this).is("#myfield24_field")||d(this).is("#myfield11_field")||d(this).is("#myfield17_field"))){var e=d(this).find("input").attr("value");d(this).removeClass("filled nofilled"),""!=e?d(this).addClass("filled"):t=1}}):t=0,0==t?d(".company_pseudo_submit").css("display","none"):d(".company_pseudo_submit").css("display","block")}function S(){if(d(".payment_type.checked").is(".payment_ur_cash")||d(".payment_type.checked").is(".payment_ur_nocash")){var t=0;d(".company_requisites .form-row").each(function(){if(!(d(this).is("#myfield19_field")||d(this).is("#myfield21_field")||d(this).is("#myfield22_field")||d(this).is("#myfield24_field")||d(this).is("#myfield11_field")||d(this).is("#myfield17_field"))){var e=d(this).find("input").attr("value");d(this).removeClass("filled nofilled"),""!=e?d(this).addClass("filled"):(d(this).find("input").addClass("error"),t=1)}}),0==t?d(".company_pseudo_submit").css("display","none"):d(".company_pseudo_submit").css("display","block")}else d(".company_pseudo_submit").css("display","none")}function C(){var e=d(".payment_type.checked").attr("data_payment_type");d("input#billing_myfield12").val(""+e)}function k(){d("#myfield25_field, #myfield1_field, #myfield2_field, #myfield3_field, #myfield4_field, #myfield5_field").wrapAll('<div class="requisites_step requisites_step1"></div>'),d("#myfield6_field, #myfield7_field, #myfield8_field, #myfield9_field, #myfield10_field, #myfield11_field").wrapAll('<div class="requisites_step requisites_step2"></div>'),d("#myfield12_field, #myfield13_field, #myfield14_field, #myfield15_field, #myfield16_field, #myfield17_field").wrapAll('<div class="requisites_step requisites_step3"></div>'),d("#myfield18_field, #myfield19_field, #myfield20_field, #myfield21_field, #myfield22_field, #myfield23_field, #myfield24_field").wrapAll('<div class="requisites_step requisites_step4"></div>'),d(".requisites_step1").prependTo(".company_requisites .col_left"),d(".requisites_step2").appendTo(".company_requisites .col_left"),d(".requisites_step3").prependTo(".company_requisites .col_right").prepend('<div class="address_copy iconfont">Скопировать из фактического адреса</div>'),d(".requisites_step4").appendTo(".company_requisites .col_right"),d(".company_requisites .requisites_step").append('<div class="spacer"></div>'),d(".address_copy").click(function(){d(".company_requisites .requisites_step3 input").removeClass("error"),d(this).addClass("checked");var e=d("#myfield6").val(),t=d("#myfield7").val(),i=d("#myfield8").val(),n=d("#myfield9").val(),o=d("#myfield10").val(),s=d("#myfield11").val();d("#myfield12").val(""+e),d("#myfield13").val(""+t),d("#myfield14").val(""+i),d("#myfield15").val(""+n),d("#myfield16").val(""+o),d("#myfield17").val(""+s)})}function O(){d(".chosen-results li, .chosen-single span").each(function(){var e=d(this).text().replace("Товар","");d(this).text(""+e)}),d(".woof_container_pa_smartphone_model, .woof_container_pa_notebook_model, .woof_container_pa_tablet_model").each(function(){var e=d(this).find(".chosen-container:first .chosen-single span"),t=e.text();" Модель смартфона"!=t&&" Модель планшета"!=t&&" Модель ноутбука"!=t||e.text("Торговая марка")}),d(".chosen-results li, .chosen-single span").css("opacity","1")}function T(e,t){d.get("/?post_type=product&add-to-cart="+e+"&quantity="+t,function(){I()})}function I(){d(".cart_out_body").load("/cart .cart_item",function(){if(0<d(".cart_item").length){d(".product_remove, .woocommerce-Price-currencySymbol, .cart_is_empty").remove();var i=0,n=0;d(".cart_item").each(function(){var e=parseInt(d(this).find("input.qty").attr("value")),t=parseInt(d(this).find(".product_subtotal .amount").text());i+=e,n+=t,d(this).find(".product_quantity").html('<span class="iconfont"></span>'+e)}),d(".wac-quantity, .product_price, .product_variation").remove(),d(".cart_out_bottom .price").text(""+n),d(".cart_in .cart_count").text(""+i),d(".cart_out_bottom").css("display","block")}else d(".cart_in .cart_count").text("0"),d(".cart_out_box").prepend('<div class="cart_is_empty">Корзина пуста</div>'),d(".cart_out_bottom").css("display","none");d(".cart_out .cart_item").each(function(){var e=d(this).attr("product_id"),t=d(".catalog_buy_wrap"+e);t.find(".catalog_buy").css({opacity:"0","z-index":"990"}),t.find(".buy_already").css({opacity:"1","z-index":"991"})}),d(".catalog_buy_wrap").css("opacity","1")}),d(".subhead_cart .customscroll").mCustomScrollbar("destroy"),d(".subhead_cart .customscroll").mCustomScrollbar({verticalScroll:!0,horizontalScroll:!1,documentTouchScroll:!1})}function M(){d("body").attr("data_timestamp");var e=Cookies.get("visit_timestamp"),t=e-86400;void 0!==e&&d(".catalog_item").each(function(){var e=d(this).attr("publish_date");t<e&&d(this).find(".label_new").css("display","block")}),function(){var e=d("body").attr("data_timestamp");Cookies.set("visit_timestamp",""+e,{expires:365})}()}if(d(".shipping_method.disabled").click(function(){d(".popup_back, .popup_disabledshipping").fadeIn(300)}),d(".shipping_method input").click(function(){var e=d(this).parent();d(".shipping_method").removeClass("checked"),d(this).parent().addClass("checked"),e.is(".local_pickup")?(w.css("display","none"),d(".offices_box").css("display","block"),d(".place-order .delivery_block").css("display","none"),d(".delivery_pseudo_submit").css("display","none")):("flat_rate:9"==d(this).val()?(w.css("display","inline-block"),d(".offices_box").css("display","none"),d("#billing_city_field").css("display","none")):(w.css("display","inline-block"),d(".offices_box").css("display","none"),d("#billing_city_field").css("display","inline-block")),b())}),b(),d(".delivery_pseudo_submit").click(function(){!function(){var e=d("#billing_myfield17"),t=e.val(),i=d("#billing_myfield7"),n=i.val(),o=d("#billing_myfield9"),s=o.val();t||e.addClass("error"),n||i.addClass("error"),s||o.addClass("error")}(),d.scrollTo(".checkout_container",300)}),d(".form_field, .form-row input").bind("input propertychange",function(){""!=d(this).val()&&(d(this).parent().find(".wpcf7-not-valid-tip").fadeOut(200),d(this).removeClass("error")),b()}),d(".company_pseudo_submit").click(function(){S(),d.scrollTo(".company_requisites",300)}),x(),d(".company_requisites input").bind("input propertychange",function(){S()}),d(".payment_type").click(function(){d(".payment_type").removeClass("checked"),d(this).addClass("checked"),C(),x(),d(".payment_type.checked").is(".payment_ur_cash")||d(".payment_type.checked").is(".payment_ur_nocash")?d(".company_requisites_block").fadeIn(300):d(".company_requisites_block").css("display","none")}),d(".form-row .checkbox").click(function(){d(this).find("input").is(":checked")?d(this).parent().removeClass("checked"):d(this).parent().addClass("checked")}),d(".woof_checkbox_instock_container input, .woof_checkbox_sales_container input").click(function(){d(this).is(":checked")?d(this).parent().addClass("checked"):d(this).parent().removeClass("checked")}),d(".woof_checkbox_instock_container input, .woof_checkbox_sales_container input").each(function(){d(this).is(":checked")?d(this).parent().addClass("checked"):d(this).parent().removeClass("checked")}),d(".full_catalog").click(function(){d(this).is(".active")?(d(".fullcatalog_container").fadeOut(200),d(this).removeClass("active")):(d(".fullcatalog_container").fadeIn(300),d(this).addClass("active"))}),d(".header_container .search_box .pseudo_button").click(function(){d(this).parent().addClass("active"),d(this).css("z-index","990"),d(".header_container .search_box .search_form .search_field").focus()}),d(".header_container .search_form").click(function(){d(this).addClass("active")}),d(".other_than_head").click(function(){d(".header_container .search_form").removeClass("active")}),d(".form-row input").click(function(){d(".form-row input").removeClass("active"),d(this).addClass("active")}),d(".single_page_buy").click(function(){var e=d(".content_main .product_title").text();if(d(".content_container").is(".variable"))var t=d(".product_item.checked"),i=t.attr("var_id"),n=t.find("input.quantity").attr("value"),o=d('.gallery_nav li[var_id="'+i+'"] img').attr("src");else{i=d(".content_main").attr("data_productid"),o=d(".content_container").attr("data_img"),n=d("input.quantity").attr("value");var s=d("input.quantity").attr("max")-n;T(i,n),s<1?d(".single_page_buy").remove():d("input.quantity").spinner({min:1,max:s,step:1,spin:function(e,t){}})}d.get("/?post_type=product&add-to-cart="+i+"&quantity="+n,function(){I()}),d(".popup_buysuccess .product_thumb").attr("src",""+o).css("display","block"),d(".popup_buysuccess .product_title").text(""+e),d(".popup_back, .popup_buysuccess").fadeIn(300)}),d(".catalog_item .catalog_buy").click(function(){var e=d(this).attr("product_id"),t=d(this).closest(".catalog_item"),i="-";if(d(this).is(".disabled")){t.is(".variable")&&(i=t.attr("data_varid"),e=t.attr("data_productid"));var n=t.find(".catalog_title:last").text();d(".popup_back, .popup_stocknotify").fadeIn(300),d(".popup_stocknotify .product_title").text(""+n),d(".wpcf7-form-control-wrap.productid input").val(""+e),d(".wpcf7-form-control-wrap.variationid input").val(""+i),d(".popup_back, .popup_stocknotify").fadeIn(300)}else{if(d(this).is(".stock_managable")){var o=(o=d(this).attr("max_quantity"))-1;d(this).attr("max_quantity",""+o),0==o&&d(this).addClass("disabled")}var s=d(this).attr("quantity"),a=[];a.push(e);for(var r=a.length,l=0;l<r;l++)T(a[l],s);if(t.is(".variable")){i=t.attr("data_varid");var c=t.find('.catalog_img_box li[var_id="'+i+'"] img').attr("src")}else c=t.attr("data_img");n=t.find(".catalog_title:last").text();d(".popup_buysuccess .product_thumb").attr("src",""+c).css("display","block"),d(".popup_buysuccess .product_title").text(""+n),d(".popup_back, .popup_buysuccess").fadeIn(300)}}),d(".instock_notify").click(function(){var e=d(".content_main .product_title").text(),t=d(".popup_nav_item.active").attr("var_id"),i=d(".content_main").attr("data_productid");d(".popup_back, .popup_stocknotify").fadeIn(300),d(".popup_stocknotify .product_title").text(""+e),d(".wpcf7-form-control-wrap.productid input").val(""+i),d(".wpcf7-form-control-wrap.variationid input").val(""+t)}),d(".gallery_slider_wrap").click(function(){d(".popup_gallery_back, .popup_gallery").fadeIn(300)}),d(".popup_gallery_back, .popup_gallery_close").click(function(){d(".popup_gallery_back, .popup_gallery").fadeOut(300);var e=d(".popup_nav_item.active").attr("data_index");E.goToSlide(e),A.goToSlide(e)}),l){var D=d(".content_gallery").attr("data_startimg"),$=(d(".gallery_mobslider").bxSlider({auto:!1,startSlide:D,minSlides:1,maxSlides:1,slideMargin:0,ticker:!1,speed:500,moveSlides:1,pager:!0,prevText:"",nextText:"",adaptiveHeight:!0,responsive:!0,touchEnabled:!0}),d(".gallery_nav").length),E=d(".gallery_slider").bxSlider({auto:!1,startSlide:D,minSlides:1,maxSlides:1,slideMargin:0,ticker:!1,speed:500,moveSlides:1,pagerCustom:".gallery_nav",prevText:"",nextText:"",adaptiveHeight:!0,responsive:!0,touchEnabled:!1}),B=d(".gallery_navbox").outerWidth();if(s<900)var P=3;if(900<s&&s<1300)P=4;if(1300<s)P=5;var z=B/P;if($)var A=d(".gallery_nav").bxSlider({auto:!1,startSlide:D,minSlides:P,maxSlides:P,slideMargin:10,ticker:!1,slideWidth:z,speed:500,pause:5e3,moveSlides:1,pager:!1,prevText:"",nextText:"",infiniteLoop:!0,adaptiveHeight:!0,responsive:!0,touchEnabled:!1,onSliderLoad:function(e){d(".gallery_navbox .slide").removeClass("active"),d(".gallery_navbox .slide"+e).addClass("active"),H(),q()},onSlideBefore:function(e,t,i){if(d(".gallery_navbox .slide").removeClass("active"),e.addClass("active"),E.goToSlide(i),L(),d(".popup_gallery .variant, .popup_gallery .gallery_img").css("display","none"),d(".popup_gallery .popup_nav_item").removeClass("active"),d(".content_container").is(".variable")){var n=e.attr("var_id");if(d(".popup_gallery .variant_"+n+", .popup_gallery .gallery_img_"+n).css("display","block"),d(".popup_gallery .popup_nav_item_"+n+".origin").addClass("active"),1==u){var o=110*d(".popup_gallery .popup_nav_item_"+n+".origin").index();d(".popup_nav_box").css("top","-"+o+"px"),d(".popup_nav").attr("data_top",""+o)}product_list_item=d('.product_list .product_item[var_id="'+n+'"]'),product_list_item.is(".outofstock")||(d(".product_list .product_item").removeClass("checked"),product_list_item.addClass("checked"))}else if(d(".popup_gallery .gallery_img_"+i).css("display","block"),d(".popup_gallery .popup_nav_item_"+i).addClass("active"),1==u){o=110*parseInt(i);d(".popup_nav_box").css("top","-"+o+"px"),d(".popup_nav").attr("data_top",""+o)}}});function H(){d(".popup_nav_item").click(function(){var e=d(this).attr("data_index"),t=d(this).index();if(d(".popup_gallery .variant, .popup_gallery .gallery_img").css("display","none"),d(".content_container").is(".variable")){var i=d(this).attr("var_id");d(".popup_gallery .variant_"+i+", .popup_gallery .gallery_img_"+i).css("display","block"),product_list_item=d('.product_list .product_item[var_id="'+i+'"]'),product_list_item.is(".outofstock")||(d(".product_list .product_item").removeClass("checked"),product_list_item.addClass("checked"))}else d(".popup_gallery .gallery_img_"+e).css("display","block");if(1==u){var n=110*parseInt(t);d(".popup_nav_box").css("top","-"+n+"px"),d(".popup_nav").attr("data_top",""+n)}d(".popup_gallery .popup_nav_item").removeClass("active"),d(this).addClass("active")})}function q(){d(".slide").click(function(){if(d(".popup_gallery .variant, .popup_gallery .gallery_img").css("display","none"),d(".popup_gallery .popup_nav_item").removeClass("active"),d(".content_container").is(".variable")){var e=d(this).attr("var_id");d(".popup_gallery .variant_"+e+", .popup_gallery .gallery_img_"+e).css("display","block"),d(".popup_gallery .popup_nav_item_"+e).addClass("active"),product_list_item=d('.product_list .product_item[var_id="'+e+'"]'),product_list_item.is(".outofstock")||(d(".product_list .product_item").removeClass("checked"),product_list_item.addClass("checked"))}else{var t=d(this).attr("data_index");d(".popup_gallery .gallery_img_"+t).css("display","block"),d(".popup_gallery .popup_nav_item_"+t).addClass("active")}d(".gallery_navbox .slide").removeClass("active"),d(this).addClass("active")})}d(window).resize(function(){var e=d(".gallery_navbox").outerWidth();if(s<900)var t=3;if(900<s&&s<1300)t=4;if(1300<s)t=5;var i=e/t;$&&A.reloadSlider({auto:!1,startSlide:D,minSlides:t,maxSlides:t,slideMargin:10,ticker:!1,slideWidth:i,speed:500,pause:5e3,moveSlides:1,pager:!1,prevText:"",nextText:"",infiniteLoop:!0,adaptiveHeight:!0,responsive:!0,touchEnabled:!1,onSliderLoad:function(e){d(".gallery_navbox .slide").removeClass("active"),d(".gallery_navbox .slide"+e).addClass("active"),H(),q()},onSlideBefore:function(e,t,i){if(d(".gallery_navbox .slide").removeClass("active"),e.addClass("active"),E.goToSlide(i),L(),d(".popup_gallery .variant, .popup_gallery .gallery_img").css("display","none"),d(".popup_gallery .popup_nav_item").removeClass("active"),d(".content_container").is(".variable")){var n=e.attr("var_id");if(d(".popup_gallery .variant_"+n+", .popup_gallery .gallery_img_"+n).css("display","block"),d(".popup_gallery .popup_nav_item_"+n+".origin").addClass("active"),1==u){var o=110*d(".popup_gallery .popup_nav_item_"+n+".origin").index();d(".popup_nav_box").css("top","-"+o+"px"),d(".popup_nav").attr("data_top",""+o)}product_list_item=d('.product_list .product_item[var_id="'+n+'"]'),product_list_item.is(".outofstock")||(d(".product_list .product_item").removeClass("checked"),product_list_item.addClass("checked"))}else if(d(".popup_gallery .gallery_img_"+i).css("display","block"),d(".popup_gallery .popup_nav_item_"+i).addClass("active"),1==u){o=110*parseInt(i);d(".popup_nav_box").css("top","-"+o+"px"),d(".popup_nav").attr("data_top",""+o)}}})}),d(".product_item .product_click").click(function(){if(d(this).parent().is(".outofstock"));else{var e=d(this).parent(),t=(e.attr("var_id"),e.attr("data_index")-1);E.goToSlide(t),A.goToSlide(t),d(".product_item").removeClass("checked"),d(this).parent().addClass("checked")}}),d(".popup_nav_arrow").click(function(){var e=parseInt(d(".popup_nav").attr("data_top"));if(d(this).is(".popup_nav_up"))var t=e-110,i=d(".popup_nav_item.active").prev();else t=e+110,i=d(".popup_nav_item.active").next();if(d(".popup_nav_item.active").removeClass("active"),i.addClass("active"),d(".popup_gallery .variant, .popup_gallery .gallery_img").css("display","none"),d(".content_container").is(".variable")){var n=i.attr("var_id");d(".popup_gallery .variant_"+n+", .popup_gallery .gallery_img_"+n).css("display","block")}else{var o=i.attr("data_index");d(".popup_gallery .gallery_img_"+o).css("display","block")}d(".popup_nav_box").css("top","-"+t+"px"),d(".popup_nav").attr("data_top",""+t)})}function L(){d(".siblings").length&&d(".siblings").each(function(){var e=d(this).find(".sibling1"),t=e.outerHeight(),i=d(this).find(".sibling2"),n=i.outerHeight();n<t?i.css("min-height",t+"px"):e.css("min-height",n+"px")})}function F(){r&&d(".inform_block").each(function(){var e=d(this).attr("data-index"),t=d(this).offset(),i=d(this).outerHeight(),n=t.top-100,o=i+n-100;"1"<e?n<a&&a<o?d(".inform_nav li.item"+e).addClass("active"):d(".inform_nav li.item"+e).removeClass("active"):0<=a&&a<o?d(".inform_nav li.item"+e).addClass("active"):d(".inform_nav li.item"+e).removeClass("active")})}function R(){if(r){var e=d("body.inform .content"),t=e.find(".inform_nav"),i=t.outerHeight(),n=e.offset().top+130,o=e.outerHeight()+n-i-160;a<""+n&&d(t).css({top:"160px",bottom:"auto"}).removeClass("stop").removeClass("fixed").addClass("free"),""+n<=a&&a<o&&d(t).css({top:"30px",bottom:"auto"}).removeClass("stop").removeClass("free").addClass("fixed"),o<=a&&d(t).css({top:"auto",bottom:"-1px"}).removeClass("fixed").removeClass("free").addClass("stop")}}function W(){d(".catalog_item").each(function(){var e=d(this).attr("data_productid"),a=d(this).find(".catalog_img_slider").bxSlider({auto:!1,minSlides:1,maxSlides:1,slideMargin:0,ticker:!1,speed:500,moveSlides:1,pagerCustom:".catalog_img_nav_"+e,prevText:"",nextText:"",adaptiveHeight:!0,responsive:!0,touchEnabled:!1}),r=d(this).find(".catalog_bottom_slider").bxSlider({mode:"fade",auto:!1,minSlides:1,maxSlides:1,slideMargin:0,ticker:!1,speed:0,moveSlides:1,pagerCustom:".catalog_img_nav_"+e,prevText:"",nextText:"",adaptiveHeight:!0,responsive:!0,touchEnabled:!1}),t=d(this).outerWidth();s<1e3&&(margin_koef=60),1e3<s&&s<1500&&(margin_koef=70),1500<s&&(margin_koef=80);t-=margin_koef;if(s<750);if(750<s);var i=t/3;d(this).find(".catalog_img_nav").bxSlider({auto:!1,minSlides:3,maxSlides:3,slideWidth:i,slideMargin:0,ticker:!1,speed:500,moveSlides:1,pager:!1,prevText:"",nextText:"",infiniteLoop:!0,adaptiveHeight:!0,responsive:!0,touchEnabled:!1,onSlideBefore:function(e,t,i){a.goToSlide(i),r.goToSlide(i);var n=d(this).closest(".catalog_item");if(n.is(".variable")){var o=e.attr("var_id"),s=n.attr("data_producturl");n.attr("data_varid",""+o),n.find(".catalog_content a").attr("href",s+"?variable_id="+o),n.find(".catalog_buy").attr("product_id",""+o)}}})}),d(".catalog_img_navbox .catalog_img_nav_item").click(function(){var e=d(this).closest(".catalog_item");if(e.is(".variable")){var t=d(this).attr("var_id"),i=e.attr("data_producturl");e.attr("data_varid",""+t),e.find(".catalog_content a").attr("href",i+"?variable_id="+t),e.find(".catalog_buy").attr("product_id",""+t)}}),d(".catalog_item.variable .cover").click(function(){var e=d(this).closest(".catalog_item"),t=e.attr("data_producturl")+"?variable_id="+e.attr("data_varid");window.location.href=t})}function j(){var e=d(".cats_li"),t=e.length/3;t=Math.ceil(t),e.prependTo(".cats_list"),d(".cats_col").remove();for(var i=0;i<e.length;i+=t)e.slice(i,i+t).wrapAll("<ul class='cats_col'></ul>");d(".cats_col").each(function(){d(this).append("<div class='spacer'></div>")})}function N(){d(".height_item").css("height","auto"),d(".height_box").each(function(){d(this).find(".height_item").matchHeight({byRow:!1,property:"height"})})}function U(){var e=d(".header_container").outerHeight(),t=d(".footer_container").outerHeight(),i=d(".topbox_container").outerHeight(),n=o-(e+t+i);d(".min_height").css("min-height",n+"px")}function X(){var e=d(".sticky_box").outerHeight();d(".product_side_min_height").css("min-height",e+"px")}function Y(){d(".number_box").each(function(){d(this).find(".item").each(function(e){var t=e+1;d(this).addClass("item"+t)}),d(this).find(".comment").each(function(e){var t=e+1;d(this).addClass("item"+t)}),d(".number_box .preloader").css("display","none"),d(".catalog_item").css("opacity","1")})}function V(){200<a?d(".upscroll").fadeIn(300):d(".upscroll").fadeOut(300)}d(".description_nav_box .description_nav_item").click(function(){var e=d(this).attr("data_nav");d(".description_nav_box .description_nav_item").removeClass("active"),d(this).addClass("active"),d(".description_out").css("display","none"),d(".description_out_"+e).fadeIn(300)}),d(".chars_tr").each(function(){d(this).find(".chars_td:first").addClass("chars_td1"),d(this).find(".chars_td:last").addClass("chars_td2")}),d(".show_all_comments").click(function(){d(this).css("display","none"),d(".comment").fadeIn(300),L()}),d(".show_commentform").click(function(){d(this).css("display","none"),d(".comment-form").fadeIn(300),L()}),d(".inform_nav li").click(function(){var e=d(this).attr("data-scrollto");d.scrollTo("#"+e,400)}),d(".header_city").click(function(){d(".popup_back, .popup_city").fadeIn(300)}),d(".popup_back, .popup_close, .popup_actions .close").click(function(){d(".popup_back, .popup").fadeOut(300)}),d(".subhead_cart .button").click(function(){window.location.href="/cart"}),d(window).load(function(){e&&d(".home_slider").bxSlider({auto:!0,speed:800,pause:5e3,slideSelector:".slide",pager:!0,prevText:"",nextText:"",adaptiveHeight:!0,responsive:!0,touchEnabled:!1,infiniteLoop:!0})}),e&&d(".home_mobslider").bxSlider({auto:!1,ticker:!1,speed:800,slideSelector:".slide",pager:!0,prevText:"",nextText:"",adaptiveHeight:!0,responsive:!0,touchEnabled:!0}),d(".subhead_cart").click(function(){return d(".subhead_cart").not(d(this).parent()[0]).removeClass("opened"),d(this).toggleClass("opened"),!1}),d(document).click(function(e){that=e.target,d(that).closest(".subhead_cart").length<1&&!d(that).hasClass("subhead_cart")&&d(".subhead_cart").removeClass("opened")}),d(".cart_url").click(function(){window.location.href="/cart"}),d(".button_icon").click(function(){d(this).parent().find(".button").trigger("click")}),d(".upscroll").click(function(){d.scrollTo(".main_layout",200)}),d(".comment-form-email #email").val("mbarbakov@gmail.com"),d(".woocommerce .products").append('<div class="spacer"></div>'),d('div[style="clear:both;"]').appendTo(".woof_redraw_zone"),d(document).ready(function(){a=d(window).scrollTop(),function(){if(d("body").is(".post-type-archive-product")){var e=0,t=location.href,i=t.substring(t.indexOf("?")+1),n=window.location.pathname.split("/");e=n[3]?n[3]:n[2];var o="/shop?"+i+"&pa_"+n[1]+"="+e;window.location.replace(o)}}(),d(".cross_sells_in .catalog_item").length&&(d(".cross_sells_in .catalog_item").prependTo(".crossells_out"),d(".crossells_out").append('<div class="spacer"></div>'),Y(),N(),d(".crossells_container .crossells_block").css("display","block")),s<700&&d(window).scroll(function(){d(".subhead_cart").removeClass("opened")}),U(),N(),j(),function(){var t=0;d(".cats_li").each(function(){var e=parseInt(d(this).find(".count").text());t+=e}),d(".cat_total span").text(""+t)}(),l&&d(".quantity").each(function(){var e=parseInt(d(this).attr("min")),t=parseInt(d(this).attr("max")),i=parseInt(d(this).attr("step"));d(this).spinner({min:e,max:t,step:i,spin:function(e,t){d(".product_item").removeClass("checked"),d(this).closest(".product_item").addClass("checked"),d(".product_item:not(.checked) input.quantity").attr({"aria-valuenow":"1",value:"1"})}})}),R(),F(),L(),M(),function(){if(l){nav_num=6;var e=d(".popup_gallery .popup_nav"),t=d(".popup_nav_box"),i=parseInt(e.attr("data_itemsnum"));if(i>nav_num){e.addClass("scroll"),u=1,d(".popup_nav_arrow").css("display","block");for(var n=d(".popup_nav_item"),o=0;o<10;o++)n.clone().removeClass("origin").prependTo(t),n.clone().removeClass("origin").appendTo(t);t.find(".popup_nav_item").length;var s=10*i*110+110*parseInt(d(".content_gallery").attr("data_startimg"));t.css("top","-"+s+"px"),e.attr("data_top",""+s)}else e.addClass("no_scroll");H()}}(),I(),V(),C(),d("#shipping_method .shipping_method").each(function(){d(this).find("input").is(":checked")&&(d(this).addClass("checked"),d(this).is(".free_shipping")&&d(this).is(".active")&&(w.css("display","inline-block"),d(".offices_box").css("display","none")),d(this).is(".flat_rate")&&d(this).is(".active")&&(w.css("display","inline-block"),d(".offices_box").css("display","none")),d(this).is(".local_pickup")&&(w.css("display","none"),d(".offices_box").css("display","block")))}),d(".shipping_method.checked").is(".local_pickup")?d(".delivery_pseudo_submit").css("display","none"):"flat_rate:9"==d(".shipping_method.checked").find("input").val()?(w.css("display","inline-block"),d(".offices_box").css("display","none"),d("#billing_city_field").css("display","none"),b()):d(".delivery_pseudo_submit").css("display","block"),k(),d(".form-row .checkbox").each(function(){d(this).find("input").is(":checked")?d(this).parent().removeClass("checked"):d(this).parent().addClass("checked")}),y(),_(),function(){if(t){var o=d(".search_main");d(".catalog_item").each(function(){d(this).attr("term_id");var e=d(this).attr("term_slug"),t=d(this).attr("term_name"),i=d(this).attr("parent_term_name"),n=d(this).attr("parent_term_slug");o.find(".search_cat_block."+e).length||o.prepend('<div class="search_cat_block '+e+'"><div class="search_cat_header"><span>Найдено в разделе:</span> <div class="search_cat_bread"><a href="/product-category/'+n+'">'+i+'</a> <i class="iconfont"></i> <a href="/shop?filter=1&product_cat='+e+'">'+t+'</a></div></div><div class="search_cat_content number_box height_box"></div></div>'),d(this).appendTo(".search_cat_block."+e+" .search_cat_content")}),d(".search_cat_content").append('<div class="spacer"></div>'),d(".preloader").css("display","none"),d(".catalog_item").css("opacity","1")}}(),Y(),m(),W(),d('.woof_products_top_panel a[href="rating"] span').text("По рейтингу"),d('.woof_products_top_panel a[href="date"] span').text("По новизне"),d('.woof_products_top_panel a[href="price"] span').text("Сначала дешевые"),d('.woof_products_top_panel a[href="price-desc"] span').text("Сначала дорогие"),d('.woof_products_top_panel a[data-tax="product_cat"]').parent().remove(),d(".woof_products_top_panel li").css("display","inline-block"),g(),f(),h(),X()}),d(window).load(function(){d("body").addClass("loaded"),d(".mob_preloader").fadeOut(300),N(),d(".chosen-container .chosen-drop").mCustomScrollbar("destroy"),d(".chosen-container .chosen-drop").mCustomScrollbar({verticalScroll:!0,horizontalScroll:!1,documentTouchScroll:!1}),O(),y(),_(),X(),d(".woof_price3_search_container").css("opacity","1")}),d(window).scroll(function(){a=d(window).scrollTop(),R(),F(),V(),y(),h()}),d(window).resize(function(){s=d(window).width(),o=d(window).height(),a=d(window).scrollTop(),U(),N(),j(),R(),F(),L(),y(),_(),m(),f(),X()})});